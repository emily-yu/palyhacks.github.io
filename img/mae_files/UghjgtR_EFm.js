if (self.CavalryLogger) { CavalryLogger.start_js(["p1tBX"]); }

__d("GamesInstantPlayScoreStrategy",[],(function a(b,c,d,e,f,g){f.exports={HIGHEST_BEST:"HIGHEST_BEST",LOWEST_BEST:"LOWEST_BEST"};}),null);
__d("GraphQLStoryCreateSource",[],(function a(b,c,d,e,f,g){f.exports={MOBILE:"mobile",TABLET:"tablet",MESSENGER:"messenger"};}),null);
__d("InstantGameSDKEndAction",[],(function a(b,c,d,e,f,g){f.exports={SCORE:"SCORE",START_MATCH:"START_MATCH",TAKE_TURN:"TAKE_TURN",END_MATCH:"END_MATCH",NONE:"NONE"};}),null);
__d("InstantGamesListQuerySurface",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN:"unknown",COMPOSER_LIST:"composer_list",BADGE_NEW_QUERY:"badge_new_query",MVP_COMPOSER_LIST:"mvp_composer_list",END_SCREEN_RECS:"end_screen_recs",INBOX20:"inbox20",INBOX20_MORE:"inbox20_more",MESSENGER_SEARCH:"messenger_search",GROUP_MALL_GYML:"group_mall_gyml",EGO_GYML:"ego_gyml",GROUP_GAME_TAB:"group_game_tab",GROUP_LEADERBOARD:"group_leaderboard",WWW_BOOKMARK:"www_bookmark",MESSENGER_THREAD_BANNER:"messeenger_thread_banner"};}),null);
__d("TurnBasedMatchState",[],(function a(b,c,d,e,f,g){f.exports={WAITING:"WAITING",IN_PROGRESS:"IN_PROGRESS",ENDED:"ENDED"};}),null);
__d('AnimatedSlideInFromBottom.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j,k='20px';i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.state={ready:false,translate:m.translate||k};}l.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_3ys-",onMouseOver:this.$AnimatedSlideInFromBottom1.bind(this),onMouseOut:this.$AnimatedSlideInFromBottom2.bind(this),style:{top:this.props.initialOffset},ref:'container'},this.props.children));};l.prototype.componentDidUpdate=function(m){'use strict';if(m.trigger===false&&this.props.trigger===true){this.setState({ready:true});this.refs.container.style.transition='top 0.3s 0s ease-out';this.refs.container.style.top=this.props.targetOffset;}};l.prototype.$AnimatedSlideInFromBottom1=function(){'use strict';if(this.state.ready){this.refs.container.style.transition='transform 0.3s 0s ease-out';this.refs.container.style.transform='translateY(-'+this.state.translate+')';}};l.prototype.$AnimatedSlideInFromBottom2=function(){'use strict';if(this.state.ready){this.refs.container.style.transition='transform 0.3s 0s ease-in';this.refs.container.style.transform='translateY(0)';}};f.exports=l;}),null);
__d('BrowserUnloadListener',['Run'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$BrowserUnloadListener1=[];this.$BrowserUnloadListener2=false;this.$BrowserUnloadListener3=[];if('onpagehide' in window)this.$BrowserUnloadListener2=true;}h.prototype.registerCallback=function(i){if(this.$BrowserUnloadListener2){window.addEventListener('pagehide',i);this.$BrowserUnloadListener1.push(i);}else this.$BrowserUnloadListener3.push(c('Run').onUnload(i));};h.prototype.remove=function(){this.$BrowserUnloadListener3.map(function(i){return i.remove();});this.$BrowserUnloadListener1.map(function(i){window.removeEventListener('pagehide',i);});this.$BrowserUnloadListener1=[];this.$BrowserUnloadListener3=[];};f.exports=h;}),null);
__d('EndMatchMutation',['Relay','RelayAPIConfig'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Relay').Mutation);i=h&&h.prototype;j.prototype.getMutation=function(){return function(){return {calls:[{kind:'Call',metadata:{},name:'end_match',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Mutation',metadata:{inputType:'EndMatchData!'},name:'EndMatchMutation',responseType:'EndMatchResponsePayload'};}();};j.prototype.getVariables=function(){return {actor_id:c('RelayAPIConfig').actorID,match_data:JSON.stringify(this.props.data),match_id:this.props.matchID};};j.prototype.getConfigs=function(){return [{type:'FIELDS_CHANGE',fieldIDs:{match:this.props.matchID}}];};j.prototype.getFatQuery=function(){return function(){return {children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'match_current_players',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isPlural:true},type:'User'},{fieldName:'match_data',kind:'Field',metadata:{},type:'String'},{fieldName:'match_state',kind:'Field',metadata:{},type:'TurnBasedMatchStateEnum'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'match',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'GamesTurnBasedMatch'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{pattern:true},name:'EndMatchMutationRelayQL',type:'TakeTurnResponsePayload'};}();};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('GamesQuicksilverContextKey',['InstantGameContextType'],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';this.$GamesQuicksilverContextKey1=i;this.$GamesQuicksilverContextKey2=j;this.$GamesQuicksilverContextKey3=k;}h.prototype.getID=function(){'use strict';return this.$GamesQuicksilverContextKey1;};h.prototype.getSourceID=function(){'use strict';return this.$GamesQuicksilverContextKey2;};h.prototype.getType=function(){'use strict';return this.$GamesQuicksilverContextKey3;};h.prototype.getTypeAPIValue=function(){'use strict';switch(this.getType()){case c('InstantGameContextType').GROUP:return 'group';case c('InstantGameContextType').STORY:return 'post';case c('InstantGameContextType').THREAD:return 'thread';case c('InstantGameContextType').MATCH:return 'match';case c('InstantGameContextType').SOLO:default:return 'solo';}};h.prototype.isGroup=function(){'use strict';return this.$GamesQuicksilverContextKey3===c('InstantGameContextType').GROUP;};h.prototype.isStory=function(){'use strict';return this.$GamesQuicksilverContextKey3===c('InstantGameContextType').STORY;};h.prototype.isThread=function(){'use strict';return this.$GamesQuicksilverContextKey3===c('InstantGameContextType').THREAD;};h.prototype.isMatch=function(){'use strict';return this.$GamesQuicksilverContextKey3===c('InstantGameContextType').MATCH;};h.prototype.isSoloPlay=function(){'use strict';return this.$GamesQuicksilverContextKey3===c('InstantGameContextType').SOLO;};f.exports=h;}),null);
__d('StartMatchMutation',['Relay','RelayAPIConfig','RelayMutationType'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Relay').Mutation);i=h&&h.prototype;j.prototype.getMutation=function(){return function(){return {calls:[{kind:'Call',metadata:{},name:'start_match',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Mutation',metadata:{inputType:'StartMatchData!'},name:'StartMatchMutation',responseType:'StartMatchResponsePayload'};}();};j.prototype.getVariables=function(){var k={actor_id:c('RelayAPIConfig').actorID,game_id:this.props.gameID};if(this.props.data)k.match_data=JSON.stringify(this.props.data);if(this.props.players)k.players=this.props.players;if(this.props.sourceContextID)k.source_context_token_id=this.props.sourceContextID;return k;};j.prototype.getConfigs=function(){return [{type:c('RelayMutationType').REQUIRED_CHILDREN,children:[function(){return {children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],fieldName:'match',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'GamesTurnBasedMatch'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'StartMatchMutation_ChildrenRelayQL',type:'StartMatchResponsePayload'};}()]}];};j.prototype.getFatQuery=function(){return function(){return {children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],fieldName:'match',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'GamesTurnBasedMatch'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{pattern:true},name:'StartMatchMutationRelayQL',type:'StartMatchResponsePayload'};}();};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('TakeTurnMutation',['Relay','RelayAPIConfig'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Relay').Mutation);i=h&&h.prototype;j.prototype.getMutation=function(){return function(){return {calls:[{kind:'Call',metadata:{},name:'take_turn',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Mutation',metadata:{inputType:'TakeTurnData!'},name:'TakeTurnMutation',responseType:'TakeTurnResponsePayload'};}();};j.prototype.getVariables=function(){return {actor_id:c('RelayAPIConfig').actorID,match_data:JSON.stringify(this.props.data),match_id:this.props.matchID,next_players:this.props.nextPlayers};};j.prototype.getConfigs=function(){return [{type:'FIELDS_CHANGE',fieldIDs:{match:this.props.matchID}}];};j.prototype.getFatQuery=function(){return function(){return {children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'match_current_players',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isPlural:true},type:'User'},{fieldName:'match_data',kind:'Field',metadata:{},type:'String'},{fieldName:'match_state',kind:'Field',metadata:{},type:'TurnBasedMatchStateEnum'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'match',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'GamesTurnBasedMatch'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{pattern:true},name:'TakeTurnMutationRelayQL',type:'TakeTurnResponsePayload'};}();};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('EndGamePayloadHandler',['invariant','Promise','GamesQuicksilverContextKey','InstantGameSDKEndAction','EndMatchMutation','Relay','StartMatchMutation','TakeTurnMutation','idx'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){this.$EndGamePayloadHandler1=j.contextKey;this.$EndGamePayloadHandler2=j.gameID;}i.prototype.handle=function(j){if(!j||!j.action)return this.$EndGamePayloadHandler3();switch(j.action){case c('InstantGameSDKEndAction').START_MATCH:return this.$EndGamePayloadHandler4(j);case c('InstantGameSDKEndAction').TAKE_TURN:return this.$EndGamePayloadHandler5(j);case c('InstantGameSDKEndAction').END_MATCH:return this.$EndGamePayloadHandler6(j);case c('InstantGameSDKEndAction').SCORE:return this.$EndGamePayloadHandler7();case c('InstantGameSDKEndAction').NONE:default:return this.$EndGamePayloadHandler3();}};i.prototype.$EndGamePayloadHandler7=function(){return new (c('Promise'))(function(j,k){if(this.$EndGamePayloadHandler1.isMatch()){k(new Error('Tried to process a score-based payload, but context is a match.'));return;}j();}.bind(this));};i.prototype.$EndGamePayloadHandler3=function(){return c('Promise').resolve({action:c('InstantGameSDKEndAction').NONE});};i.prototype.$EndGamePayloadHandler4=function(j){return new (c('Promise'))(function(k,l){if(!this.$EndGamePayloadHandler1.isThread()){l(new Error('Matches are currently only supported in threads'));return;}c('Relay').Store.commitUpdate(new (c('StartMatchMutation'))({data:j.data||null,gameID:this.$EndGamePayloadHandler2,sourceContextID:this.$EndGamePayloadHandler1.getID()}),{onFailure:function m(){l(new Error('Failed to create a new match.'));},onSuccess:function m(n){var o,p,q;k({action:c('InstantGameSDKEndAction').START_MATCH,match:(o=n)!=null?(p=o.start_match)!=null?(q=p.match)!=null?q.id:q:p:o});}});}.bind(this));};i.prototype.$EndGamePayloadHandler5=function(j){return new (c('Promise'))(function(k,l){if(!this.$EndGamePayloadHandler1.isMatch()){l(new Error('Tried to process a turn, but context is not a match.'));return;}var m=this.$EndGamePayloadHandler1.getSourceID();m||h(0);c('Relay').Store.commitUpdate(new (c('TakeTurnMutation'))(babelHelpers['extends']({},j,{matchID:m})),{onFailure:function n(){l(new Error('Failed to process the player\'s turn.'));},onSuccess:function n(){k(j);}});}.bind(this));};i.prototype.$EndGamePayloadHandler6=function(j){return new (c('Promise'))(function(k,l){if(!this.$EndGamePayloadHandler1.isMatch()){l(new Error('Tried to process a match ending, but context is not a match.'));return;}var m=this.$EndGamePayloadHandler1.getSourceID();m||h(0);c('Relay').Store.commitUpdate(new (c('EndMatchMutation'))({data:j.data,matchID:m}),{onFailure:function n(){l(new Error('Failed to end the match.'));},onSuccess:function n(){k(j);}});}.bind(this));};f.exports=i;}),null);
__d('ExpandableListCard.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.state={totalCount:this.props.entries.length,displayCount:this.props.initialCount};}l.prototype.render=function(){return (c('React').createElement('div',{className:"_5947"},this.$ExpandableListCard1(),this.$ExpandableListCard2(),this.$ExpandableListCard3()));};l.prototype.$ExpandableListCard1=function(){return (c('React').createElement('div',{className:"_5948"},this.props.titleContent));};l.prototype.$ExpandableListCard2=function(){return (c('React').createElement('div',{className:"_5949"},this.props.entries.slice(0,this.state.displayCount).map(function(m,n){return c('React').createElement('div',{key:n},this.props.entryRenderer(m));}.bind(this))));};l.prototype.$ExpandableListCard3=function(){if(this.state.displayCount>=this.state.totalCount)return null;return (c('React').createElement('div',{className:"_594a",onClick:function(){return this.$ExpandableListCard4();}.bind(this),onTouchStart:function(){return this.$ExpandableListCard4();}.bind(this),role:'button',tabIndex:0},i._("See More")));};l.prototype.$ExpandableListCard4=function(){this.setState({displayCount:this.state.displayCount+this.props.expandCount});};f.exports=l;}),null);
__d('FullSizeVerticalScrollView.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){'use strict';j.constructor.call(this);this.state={isDragging:false};}k.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_48ln"+(this.state.isDragging?' '+"_3tw8":''),ref:'container',onMouseDown:function(l){return this.$FullSizeVerticalScrollView2(l);}.bind(this),onMouseUp:function(){return this.$FullSizeVerticalScrollView3();}.bind(this),onMouseMove:function(l){return this.$FullSizeVerticalScrollView4(l);}.bind(this),onTouchStart:function(l){return this.$FullSizeVerticalScrollView2(l);}.bind(this),onTouchEnd:function(){return this.$FullSizeVerticalScrollView3();}.bind(this),onTouchMove:function(l){return this.$FullSizeVerticalScrollView4(l);}.bind(this)},this.props.children));};k.prototype.componentDidMount=function(){'use strict';this.$FullSizeVerticalScrollView5();};k.prototype.$FullSizeVerticalScrollView2=function(event){'use strict';this.$FullSizeVerticalScrollView1=event.clientY;this.setState({isDragging:true});};k.prototype.$FullSizeVerticalScrollView3=function(){'use strict';this.setState({isDragging:false});};k.prototype.$FullSizeVerticalScrollView4=function(event){'use strict';if(!this.state.isDragging)return;var l=event.clientY-this.$FullSizeVerticalScrollView1;this.$FullSizeVerticalScrollView1=event.clientY;this.refs.container.scrollTop-=l;};k.prototype.$FullSizeVerticalScrollView5=function(){'use strict';var l=this.refs.container;if(l){var m=l.offsetWidth-l.clientWidth+'px';if(m)l.style.paddingRight=m;}};f.exports=k;}),null);
__d("cssURL",[],(function a(b,c,d,e,f,g){function h(i){return "url('"+i.replace(/(\\|\s|\(|\)|'|\")/g,'\\$1')+"')";}f.exports=h;}),null);
__d('CssBackgroundImage.react',['EncryptedImg','React','createCancelableFunction','cssURL'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'CssBackgroundImage',getProps:{imageURI:h.string.isRequired,className:h.string,backgroundPosition:h.string,height:h.string,width:h.string,style:h.object,onMouseDown:h.func,onMouseMove:h.func,onMouseUp:h.func,onMouseOut:h.func},getInitialState:function j(){return {image:'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs='};},getDefaultProps:function j(){return {backgroundPosition:'0% 0%',style:{}};},_process:function j(k){if(!c('EncryptedImg').isEncrypted(k)){this.setState({image:k});return;}if(this.encryptedImgCallback)this.encryptedImgCallback.cancel();this.encryptedImgCallback=c('createCancelableFunction')(function(l){if(k===this.props.imageURI)this.setState({image:l});}.bind(this));c('EncryptedImg').load(k,this.encryptedImgCallback);},componentWillMount:function j(){if(this.props.imageURI!=null)this._process(this.props.imageURI);},componentWillReceiveProps:function j(k){if(k.imageURI!=null)this._process(k.imageURI);},componentWillUnmount:function j(){if(this.encryptedImgCallback)this.encryptedImgCallback.cancel();},render:function j(){var k=this.props,l=k.imageURI,m=k.backgroundPosition,n=k.height,o=k.width,p=k.style,q=babelHelpers.objectWithoutProperties(k,['imageURI','backgroundPosition','height','width','style']);return (c('React').createElement('div',babelHelpers['extends']({style:Object.assign({},p,{backgroundImage:c('cssURL')(this.state.image),backgroundPosition:m||p.backgroundPosition,height:n||p.height,width:o||p.width})},q)));}});f.exports=i;}),null);
__d('GameShareCard.react',['cx','fbt','CssBackgroundImage.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){'use strict';k.constructor.call(this,m);}l.prototype.render=function(){'use strict';if(!this.props.gameInfo)return null;var m=this.props.gameInfo,n=m.name,o=m.description,p=m.bannerURI,q=m.iconURI;return (c('React').createElement(c('CssBackgroundImage.react'),{className:"_a_s",imageURI:p},this.$GameShareCard1(q),this.$GameShareCard2(n,o)));};l.prototype.$GameShareCard2=function(m,n){'use strict';var o=n?i._("{description}",[i.param('description',n)]):null;return (c('React').createElement('div',{className:"_a_-"},c('React').createElement('div',{className:"_a__"},m),c('React').createElement('div',{className:"_b00"},o),this.$GameShareCard3()));};l.prototype.$GameShareCard1=function(m){'use strict';return (c('React').createElement(c('CssBackgroundImage.react'),{backgroundPosition:'center',className:"_b01",height:96,imageURI:m||'',width:96}));};l.prototype.$GameShareCard3=function(){'use strict';return (c('React').createElement('div',{className:"_b02",onClick:this.props.shareHandler,onTouchStart:this.props.shareHandler,tabIndex:0,role:'button'},c('React').createElement('span',{className:"_b03"},i._("Share")),c('React').createElement('span',{className:"_b04"})));};f.exports=l;}),null);
__d("GamesQuicksilverAnalyticsInfo",[],(function a(b,c,d,e,f,g){function h(i,j,k){"use strict";this.$GamesQuicksilverAnalyticsInfo1=i;this.$GamesQuicksilverAnalyticsInfo2=j;this.$GamesQuicksilverAnalyticsInfo3=k;}h.prototype.getFunnelName=function(){"use strict";return this.$GamesQuicksilverAnalyticsInfo1;};h.prototype.getSource=function(){"use strict";return this.$GamesQuicksilverAnalyticsInfo2;};h.prototype.getSourceId=function(){"use strict";return this.$GamesQuicksilverAnalyticsInfo3;};f.exports=h;}),null);
__d('GamesQuicksilverRoundImage.react',['cx','joinClasses','CssBackgroundImage.react','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);}k.prototype.render=function(){'use strict';return (c('React').createElement(c('CssBackgroundImage.react'),{className:c('joinClasses')(this.props.className,"_47tp"),imageURI:this.props.uri,'background-position':'center',height:48,width:48}));};f.exports=k;}),null);
__d('GamesQuicksilverLeaderboard.react',['cx','fbt','GamesQuicksilverContextKey','GamesQuicksilverRoundImage.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$GamesQuicksilverLeaderboard1=null;this.$GamesQuicksilverLeaderboard2=null;}l.prototype.render=function(){if(!this.props.leaderboard.length)return null;var m=this.props.count||this.props.leaderboard.length,n=this.props.title?this.props.title:i._("Leaderboard");return (c('React').createElement('div',{className:"_3_vz"},c('React').createElement('div',{className:"_3_v-"},c('React').createElement('span',{className:"_5yw6"+(this.props.contextKey.isGroup()?' '+"_5ywe":'')+(this.props.contextKey.isThread()?' '+"_zja":'')+(!this.props.contextKey.isGroup()&&!this.props.contextKey.isThread()?' '+"_3_v_":'')}),c('React').createElement('span',{className:"_3_w0"},n)),this.props.leaderboard.slice(0,m).map(function(o,p){if(!o||!o.user)return null;return this.$GamesQuicksilverLeaderboard3(o,p+1,o.user.id===this.props.playerID);}.bind(this)),this.props.footerContent||null));};l.prototype.$GamesQuicksilverLeaderboard3=function(m,n,o){return (c('React').createElement('div',{key:m.user.id,className:"_3_w1"+(o?' '+"_3_w2":'')+(this.props.entryClickHandler?' '+"_xz8":''),onClick:function(event){if(event.clientX===this.$GamesQuicksilverLeaderboard1&&event.clientY===this.$GamesQuicksilverLeaderboard2)this.$GamesQuicksilverLeaderboard4(m.user.id);this.$GamesQuicksilverLeaderboard1=null;this.$GamesQuicksilverLeaderboard2=null;}.bind(this),onMouseDown:function(event){this.$GamesQuicksilverLeaderboard1=event.clientX;this.$GamesQuicksilverLeaderboard2=event.clientY;}.bind(this),role:'button',tabIndex:0},c('React').createElement(c('GamesQuicksilverRoundImage.react'),{className:"_88d",uri:m.user.photo.uri}),c('React').createElement('div',{className:"_3_w4"},c('React').createElement('div',{className:"_3_wu"},m.user.name),c('React').createElement('div',{className:"_3_wv"},m.score)),this.$GamesQuicksilverLeaderboard5(n,m.score)));};l.prototype.$GamesQuicksilverLeaderboard5=function(m,n){if(!n)return null;return (c('React').createElement('div',{className:"_3_w3"},m));};l.prototype.$GamesQuicksilverLeaderboard4=function(m){if(this.props.entryClickHandler)this.props.entryClickHandler(m);};f.exports=l;}),null);
__d('GamesQuicksilverRecommendationCard.react',['cx','fbt','idx','ExpandableListCard.react','React','GamesQuicksilverRoundImage.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.INITIAL_SIZE=5,this.EXPAND_SIZE=3,n;}l.prototype.render=function(){var m,n,o=this.props.recommendationInfo,p=(m=o)!=null?(n=m.list)!=null?n.games:n:m;if(!p)return c('React').createElement('div',null);return (c('React').createElement(c('ExpandableListCard.react'),{entries:p,entryRenderer:function(q){return this.$GamesQuicksilverRecommendationCard1(q);}.bind(this),expandCount:this.EXPAND_SIZE,initialCount:this.INITIAL_SIZE,titleContent:this.$GamesQuicksilverRecommendationCard2()}));};l.prototype.$GamesQuicksilverRecommendationCard2=function(){return (c('React').createElement('div',{className:"_5r00"},c('React').createElement('span',{className:"_5r01"}),c('React').createElement('span',{className:"_5r02"},i._("More Games"))));};l.prototype.$GamesQuicksilverRecommendationCard1=function(m){var n,o,p,q=m.game,r=m.textLines,s=q.id,t=(n=q)!=null?n.name:n,u=(o=q)!=null?(p=o.info)!=null?p.iconURI:p:o;if(!(s&&t&&u))return null;return (c('React').createElement('div',{className:"_5r03"},c('React').createElement(c('GamesQuicksilverRoundImage.react'),{className:"_5r08",uri:u}),c('React').createElement('div',{className:"_5r0p"},c('React').createElement('div',{className:"_5r0q"},t),r.map(function(v,w){return this.$GamesQuicksilverRecommendationCard3(v.text,w);}.bind(this))),c('React').createElement('div',{className:"_5r7a",onClick:function(){return this.props.switchGameHandler(s);}.bind(this),onTouchStart:function(){return this.props.switchGameHandler(s);}.bind(this),role:'button',tabIndex:0},i._("Play"))));};l.prototype.$GamesQuicksilverRecommendationCard3=function(m,n){return (c('React').createElement('div',{className:"_5r7b",key:n},i._("{gameText}",[i.param('gameText',m)])));};f.exports=l;}),null);
__d('InstantGamesChallengeCard.react',['cx','fbt','CurrentUser','ExpandableListCard.react','immutable','MercuryIDs','MercuryThreads','MercuryThreadTitle.react','MessengerThreadImage.react','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=48;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.INITIAL_SIZE=3;this.EXPAND_SIZE=3;this.$InstantGamesChallengeCard1=null;this.$InstantGamesChallengeCard2=null;this.$InstantGamesChallengeCard3=new (c('SubscriptionsHandler'))();this.$InstantGamesChallengeCard3.addSubscriptions(c('MercuryThreads').addListener('change',function(){this.setState({threads:c('MercuryThreads').get()});}.bind(this)));this.state={threads:c('MercuryThreads').get()};}m.prototype.componentWillUnmount=function(){this.$InstantGamesChallengeCard3.release();};m.prototype.render=function(){if(!this.props.challengesInfo)return null;var n=this.props.challengesInfo.matches;return (c('React').createElement(c('ExpandableListCard.react'),{entries:n,entryRenderer:function(o){return this.$InstantGamesChallengeCard4(o);}.bind(this),expandCount:this.EXPAND_SIZE,initialCount:this.INITIAL_SIZE,titleContent:this.$InstantGamesChallengeCard5()}));};m.prototype.$InstantGamesChallengeCard5=function(){return (c('React').createElement('div',{className:"_42jm"},c('React').createElement('div',{className:"_42km"}),c('React').createElement('div',{className:"_42kn"},i._("Challenges"))));};m.prototype.$InstantGamesChallengeCard4=function(n){var o=n.threadKey,p=n.lineOne,q=n.lineTwo,r=n.hasExistingGame,s=this.$InstantGamesChallengeCard6(o);if(!s)return null;return (c('React').createElement('div',{className:"_42ko",onClick:function(event){if(event.clientX===this.$InstantGamesChallengeCard1&&event.clientY===this.$InstantGamesChallengeCard2)this.$InstantGamesChallengeCard7(o,r);this.$InstantGamesChallengeCard1=null;this.$InstantGamesChallengeCard2=null;}.bind(this),onMouseDown:function(event){this.$InstantGamesChallengeCard1=event.clientX;this.$InstantGamesChallengeCard2=event.clientY;}.bind(this),role:'button',tabIndex:0},c('React').createElement('div',{className:"_42kp"},this.$InstantGamesChallengeCard8(s)),c('React').createElement('div',{className:"_lib"},r?this.$InstantGamesChallengeCard9(s,p,q):this.$InstantGamesChallengeCard10(s))));};m.prototype.$InstantGamesChallengeCard10=function(n){var o=this.state.threads.getOrFetch(n);if(!o)return null;return (c('React').createElement(c('MercuryThreadTitle.react'),{className:"_42kr",thread:o,useAndSeparator:true,useShortName:true,viewer:c('CurrentUser').getID()}));};m.prototype.$InstantGamesChallengeCard9=function(n,o,p){var q=this.state.threads.getOrFetch(n);if(!q)return null;return (c('React').createElement('div',null,c('React').createElement(c('MercuryThreadTitle.react'),{className:"_42ks",thread:q,viewer:c('CurrentUser').getID()}),c('React').createElement('div',{className:"_42kt"},i._("{challengeLineOne}",[i.param('challengeLineOne',o)])),c('React').createElement('div',{className:"_42ku"},i._("{challengeLineTwo}",[i.param('challengeLineTwo',p)]))));};m.prototype.$InstantGamesChallengeCard8=function(n){if(!n)return null;var o=this.state.threads.getOrFetch(n);if(!o)return null;return (c('React').createElement(c('MessengerThreadImage.react'),{participants:c('immutable').Map(),size:l,thread:o,viewer:c('CurrentUser').getID()}));};m.prototype.$InstantGamesChallengeCard7=function(n,o){var p=this.$InstantGamesChallengeCard11(n);if(!p)return;this.props.chooseChallengeHandler(p);};m.prototype.$InstantGamesChallengeCard6=function(n){if(n.opponentID){return c('MercuryIDs').getThreadIDFromUserID(n.opponentID);}else if(n.threadID)return c('MercuryIDs').getThreadIDFromThreadFBID(n.threadID);return null;};m.prototype.$InstantGamesChallengeCard11=function(n){return n.opponentID||n.threadID||null;};f.exports=m;}),null);
__d('GamesQuicksilverGameInfoPanel.react',['cx','fbt','InstantGamesChallengeCard.react','GamesQuicksilverContextKey','InstantGameContextType','CurrentUser','GameShareCard.react','GamesQuicksilverLeaderboard.react','React','GamesQuicksilverRecommendationCard.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$GamesQuicksilverGameInfoPanel6=function(){this.props.chooseChallengeHandler();}.bind(this);}l.prototype.render=function(){return c('React').createElement('div',{className:"_2jsb"},this.$GamesQuicksilverGameInfoPanel1(),this.$GamesQuicksilverGameInfoPanel2(),this.$GamesQuicksilverGameInfoPanel3(),this.$GamesQuicksilverGameInfoPanel4());};l.prototype.$GamesQuicksilverGameInfoPanel1=function(){if(!this.props.gameInfo)return null;return c('React').createElement(c('GameShareCard.react'),{gameInfo:this.props.gameInfo,shareHandler:this.props.shareHandler});};l.prototype.$GamesQuicksilverGameInfoPanel2=function(){if(!this.props.challengesInfo)return null;return c('React').createElement(c('InstantGamesChallengeCard.react'),{challengesInfo:this.props.challengesInfo,chooseChallengeHandler:this.props.chooseChallengeHandler});};l.prototype.$GamesQuicksilverGameInfoPanel4=function(){if(!this.props.recommendationInfo||!this.props.enableGameSwitch)return null;return c('React').createElement(c('GamesQuicksilverRecommendationCard.react'),{recommendationInfo:this.props.recommendationInfo,switchGameHandler:this.props.switchGameHandler});};l.prototype.$GamesQuicksilverGameInfoPanel3=function(){if(!this.props.leaderboard)return null;return c('React').createElement(c('GamesQuicksilverLeaderboard.react'),{entryClickHandler:function(m){return this.props.chooseChallengeHandler(m);}.bind(this),contextKey:new (c('GamesQuicksilverContextKey'))(null,null,c('InstantGameContextType').SOLO),count:5,footerContent:this.$GamesQuicksilverGameInfoPanel5(),leaderboard:this.props.leaderboard,playerID:c('CurrentUser').getID(),title:null});};l.prototype.$GamesQuicksilverGameInfoPanel5=function(){return c('React').createElement('div',{className:"_2o90",onClick:this.$GamesQuicksilverGameInfoPanel6,role:'button',tabIndex:0},c('React').createElement('div',{className:"_1dm4"}),c('React').createElement('div',{className:"_1dm5"},i._("Play Friends")));};f.exports=l;}),null);
__d('GamesQuicksilverPlayerInfo.react',['cx','GamesQuicksilverRoundImage.react','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);}k.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_2iqk"},c('React').createElement(c('GamesQuicksilverRoundImage.react'),{className:"_88d",uri:this.props.photoURI}),c('React').createElement('div',{className:"_3_w4"},c('React').createElement('span',{className:"_3_wu"},this.props.name),c('React').createElement('span',{className:"_3_wv"},this.props.score)),c('React').createElement('div',{className:"_3_w3"},this.props.rank)));};f.exports=k;}),null);
__d('GamesSpinner.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_c10"},this.$GamesSpinner1(),this.$GamesSpinner2()));};k.prototype.$GamesSpinner1=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement('div',{className:"_c11 _c12"},c('React').createElement('div',{className:"_c13 _c1g"}),c('React').createElement('div',{className:"_c1h _c1g"}),c('React').createElement('div',{className:"_c1i _c1g"}),c('React').createElement('div',{className:"_c1j _c1g"})),c('React').createElement('div',{className:"_c11 _c1k"},c('React').createElement('div',{className:"_c13 _c1g"}),c('React').createElement('div',{className:"_c1h _c1g"}),c('React').createElement('div',{className:"_c1i _c1g"}),c('React').createElement('div',{className:"_c1j _c1g"}))));};k.prototype.$GamesSpinner2=function(){'use strict';return (c('React').createElement('div',{className:"_c1l"}));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('LoadingOverlay.react',['cx','React','GamesSpinner.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);}k.prototype.render=function(){'use strict';return (c('React').createElement('div',null,this.$LoadingOverlay1()));};k.prototype.$LoadingOverlay1=function(){'use strict';if(!this.props.isLoading)return null;return (c('React').createElement('div',{className:"_3wn7"},c('React').createElement(c('GamesSpinner.react'),null)));};f.exports=k;}),null);
__d("MessengerCreateTemporaryPhotoMutationWebGraphQLMutation",["WebGraphQLMutationHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLMutationHelper").getExports({docID:"1371416706263221",queryID:"635334346677399"});}),null);
__d("MessengerGameScoreShareMutationWebGraphQLMutation",["WebGraphQLMutationHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLMutationHelper").getExports({docID:"1056902241080709",queryID:"403785339972039"});}),null);
__d('dataUriToBlob',[],(function a(b,c,d,e,f,g){function h(i){var j=i.split(',')[0].indexOf('base64')>=0,k=i.split(',')[0].split(':')[1].split(';')[0],l=j?atob(i.split(',')[1]):decodeURIComponent(i.split(',')[1]),m;if(j){var n=new Uint8Array(l.length);for(var o=0;o<l.length;o++)n[o]=l.charCodeAt(o);m=[n];}else m=[l];return new Blob(m,{type:k});}f.exports=h;}),null);
__d('MessengerGameScoreShareDialog.react',['ix','cx','fbt','AsyncRequest','AsyncUploadRequest','CurrentUser','GraphQLStoryCreateSource','Image.react','immutable','LayerFadeOnHide','MessengerComposeViewHeader.react','MessengerCreateTemporaryPhotoMutationWebGraphQLMutation','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerGameScoreShareMutationWebGraphQLMutation','MessengerSpinner.react','React','dataUriToBlob','emptyFunction','fbglyph','idx'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('messengerDialogBodyReact').comp,n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={recipients:c('immutable').List(),sendError:null,sending:false},this.mounted=true,this.$MessengerGameScoreShareDialog5=function(u){this.setState({recipients:this.state.recipients.push(u)});}.bind(this),this.$MessengerGameScoreShareDialog6=function(u){var v=this.state.recipients;this.setState({recipients:v['delete'](v.indexOf(u))});}.bind(this),this.$MessengerGameScoreShareDialog4=function(){this.setState({recipients:c('immutable').List()});}.bind(this),this.$MessengerGameScoreShareDialog7=function(){var u=this.props.screenshot;if(u){var v=new (c('AsyncUploadRequest'))(c('MessengerCreateTemporaryPhotoMutationWebGraphQLMutation').getURI({photo:null,source:c('GraphQLStoryCreateSource').MESSENGER})).setFiles({photo:c('dataUriToBlob')(u)});v.subscribe('success',this.$MessengerGameScoreShareDialog8);v.send();this.setState({sending:true,sendError:null});}}.bind(this),this.$MessengerGameScoreShareDialog8=function(u,v){var w,x,y,z,aa,ba=(w=v.getResponse())!=null?(x=w.payload)!=null?(y=x.data)!=null?(z=y.viewer_create_temporary_photo)!=null?(aa=z.photo)!=null?aa.id:aa:z:y:x:w;if(ba&&this.state.recipients.size>0){var ca=this.state.recipients.map(function(da){return da.getUniqueID();}).toArray();new (c('AsyncRequest'))(c('MessengerGameScoreShareMutationWebGraphQLMutation').getURI({thread_id:ca,game_id:this.props.gameID,score:this.props.score,screenshot:ba})).setHandler(this.$MessengerGameScoreShareDialog9).send();}}.bind(this),this.$MessengerGameScoreShareDialog9=function(u){if(this.mounted){if(!u.error){this.props.onClose&&this.props.onClose();this.setState({recipients:c('immutable').List(),sending:false});return;}this.setState({sending:false,sendError:u.error});}}.bind(this),this.$MessengerGameScoreShareDialog3=function(u){if(!u)this.props.onClose&&this.props.onClose();}.bind(this),q;}o.prototype.componentWillUnmount=function(){'use strict';this.mounted=false;};o.prototype.render=function(){'use strict';var p=j._("Send"),q=void 0;if(this.state.sending){q=this.$MessengerGameScoreShareDialog1();}else if(this.state.sendError)q=this.$MessengerGameScoreShareDialog2();return c('React').createElement(c('MessengerDialog.react'),{shown:this.props.shown,behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},hideOnEscape:true,onToggle:this.$MessengerGameScoreShareDialog3},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogTitle.react'),null,this.props.title)),c('React').createElement(m,null,c('React').createElement('div',{className:"_4pel"},c('React').createElement(c('MessengerComposeViewHeader.react'),{className:"_4pen",forceHideClearButton:false,onClear:this.$MessengerGameScoreShareDialog4,onAddRecipient:this.$MessengerGameScoreShareDialog5,onRemoveRecipient:this.$MessengerGameScoreShareDialog6,onResize:c('emptyFunction'),recipients:this.state.recipients,viewer:c('CurrentUser').getID()}),c('React').createElement(c('Image.react'),{className:"_4peo",src:this.props.screenshot}))),c('React').createElement(c('MessengerDialogFooter.react'),{leftContent:q},c('React').createElement(c('MessengerDialogCancelButton.react'),{onClick:this.props.onClose}),c('React').createElement(c('MessengerDialogButton.react'),{action:'confirm',disabled:!this.state.recipients.size||this.state.sending,label:p,onClick:this.$MessengerGameScoreShareDialog7,type:'primary'})));};o.prototype.$MessengerGameScoreShareDialog1=function(){'use strict';return c('React').createElement('div',null,c('React').createElement(c('MessengerSpinner.react'),null),c('React').createElement('span',{className:"_1e1n _3-99"},j._("Sending")));};o.prototype.$MessengerGameScoreShareDialog2=function(){'use strict';return c('React').createElement('div',{className:"_1e1n"},c('React').createElement(c('Image.react'),{src:h("images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/caution-solid_16_bluegray-40.png")}),c('React').createElement('span',{className:"_3-99"},this.state.sendError));};o.propTypes={gameID:n.string.isRequired,onClose:n.func,score:n.number,screenshot:n.string,shown:n.bool.isRequired,title:n.node.isRequired};f.exports=o;}),null);
__d("MessengerGameShareMutationWebGraphQLMutation",["WebGraphQLMutationHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLMutationHelper").getExports({docID:"1096845470442042",queryID:"1395239747186826"});}),null);
__d('MessengerGameShareDialog.react',['ix','cx','fbt','AsyncRequest','CurrentUser','Image.react','immutable','LayerFadeOnHide','MessengerComposeViewHeader.react','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerGameShareMutationWebGraphQLMutation','MessengerSpinner.react','React','emptyFunction','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('messengerDialogBodyReact').comp,n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={recipients:c('immutable').List(),sendError:null,sending:false},this.$MessengerGameShareDialog5=function(u){this.setState({recipients:this.state.recipients.push(u)});}.bind(this),this.$MessengerGameShareDialog6=function(u){var v=this.state.recipients;this.setState({recipients:v['delete'](v.indexOf(u))});}.bind(this),this.$MessengerGameShareDialog4=function(){this.setState({recipients:c('immutable').List()});}.bind(this),this.$MessengerGameShareDialog7=function(){var u=this.state.recipients.map(function(v){return v.getUniqueID();}).toArray();new (c('AsyncRequest'))(c('MessengerGameShareMutationWebGraphQLMutation').getURI({thread_id:u,game_id:this.props.gameID})).setHandler(this.$MessengerGameShareDialog8).send();this.setState({sending:true,sendError:null});}.bind(this),this.$MessengerGameShareDialog8=function(u){if(!u.error){this.props.onClose&&this.props.onClose();this.setState({recipients:c('immutable').List(),sending:false});return;}this.setState({sending:false,sendError:u.error});}.bind(this),this.$MessengerGameShareDialog3=function(u){if(!u)this.props.onClose&&this.props.onClose();}.bind(this),q;}o.prototype.render=function(){'use strict';var p=j._("Send"),q=void 0;if(this.state.sending){q=this.$MessengerGameShareDialog1();}else if(this.state.sendError)q=this.$MessengerGameShareDialog2();return c('React').createElement(c('MessengerDialog.react'),{shown:this.props.shown,behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},hideOnEscape:true,onToggle:this.$MessengerGameShareDialog3},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogTitle.react'),null,this.props.title)),c('React').createElement(m,null,c('React').createElement(c('MessengerComposeViewHeader.react'),{className:"_1e1o",forceHideClearButton:false,onClear:this.$MessengerGameShareDialog4,onAddRecipient:this.$MessengerGameShareDialog5,onRemoveRecipient:this.$MessengerGameShareDialog6,onResize:c('emptyFunction'),recipients:this.state.recipients,viewer:c('CurrentUser').getID()})),c('React').createElement(c('MessengerDialogFooter.react'),{leftContent:q},c('React').createElement(c('MessengerDialogCancelButton.react'),{onClick:this.props.onClose}),c('React').createElement(c('MessengerDialogButton.react'),{action:'confirm',disabled:!this.state.recipients.size||this.state.sending,label:p,onClick:this.$MessengerGameShareDialog7,type:'primary'})));};o.prototype.$MessengerGameShareDialog1=function(){'use strict';return c('React').createElement('div',null,c('React').createElement(c('MessengerSpinner.react'),null),c('React').createElement('span',{className:"_1e1n _3-99"},j._("Sending")));};o.prototype.$MessengerGameShareDialog2=function(){'use strict';return c('React').createElement('div',{className:"_1e1n"},c('React').createElement(c('Image.react'),{src:h("images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/caution-solid_16_bluegray-40.png")}),c('React').createElement('span',{className:"_3-99"},this.state.sendError));};o.propTypes={gameID:n.string.isRequired,onClose:n.func,shown:n.bool.isRequired,title:n.node.isRequired};f.exports=o;}),null);
__d('XAsyncRequest',['AsyncRequest'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$XAsyncRequest1=new (c('AsyncRequest'))(i);}h.prototype.setMethod=function(i){'use strict';this.$XAsyncRequest1.setMethod(i);return this;};h.prototype.setData=function(i){'use strict';this.$XAsyncRequest1.setData(i);return this;};h.prototype.setHandler=function(i){'use strict';this.$XAsyncRequest1.setHandler(i);return this;};h.prototype.setErrorHandler=function(i){'use strict';this.$XAsyncRequest1.setErrorHandler(i);return this;};h.prototype.send=function(){'use strict';this.$XAsyncRequest1.send();return this;};h.prototype.abort=function(){'use strict';this.$XAsyncRequest1.abort();};f.exports=h;}),null);
__d("XGamesQuicksilverShareGameController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/games\/quicksilver\/share\/",{app_id:{type:"String"},__asyncDialog:{type:"Int"}});}),null);
__d("XGamesQuicksilverShareScoreController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/games\/quicksilver\/share_score\/",{__asyncDialog:{type:"Int"}});}),null);
__d('GamesQuicksilverEndScreenPresentation.react',['cx','fbt','GamesQuicksilverContextKey','InstantGameContextType','CurrentUser','FullSizeVerticalScrollView.react','GamesQuicksilverGameInfoPanel.react','GamesQuicksilverLeaderboard.react','LoadingOverlay.react','MessengerActions','MessengerEnvironment','MessengerGameScoreShareDialog.react','MessengerGameShareDialog.react','GamesQuicksilverPlayerInfo.react','React','Relay','SimpleXUIDialog','AnimatedSlideInFromBottom.react','XAsyncRequest','XGamesQuicksilverShareGameController','XGamesQuicksilverShareScoreController','XUIDialogButton.react','XUIDialogCancelButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={loadingShare:false,replayButtonOffsetTop:null,showingGameInfo:false},this.$GamesQuicksilverEndScreenPresentation1=null,this.$GamesQuicksilverEndScreenPresentation15=function(){if(!this.props.screenshot||this.state.loadingShare)return;if(c('MessengerEnvironment').messengerui){c('MessengerActions').showDialog(c('MessengerGameScoreShareDialog.react'),{gameID:this.props.gameInfo.id,onClose:this.$GamesQuicksilverEndScreenPresentation19,shown:true,title:this.props.gameInfo.name,screenshot:this.props.screenshot,score:this.props.gameplayScore||0});return;}this.setState({loadingShare:true});var s=c('XGamesQuicksilverShareScoreController').getURIBuilder().getURI();new (c('XAsyncRequest'))(s).setData({photo:this.props.screenshot,app_id:this.props.gameInfo.id,target_id:this.props.contextKey.isGroup()?this.props.contextKey.getSourceID():c('CurrentUser').getID()}).setMethod('POST').setHandler(this.$GamesQuicksilverEndScreenPresentation19).setErrorHandler(this.$GamesQuicksilverEndScreenPresentation20).send();}.bind(this),this.$GamesQuicksilverEndScreenPresentation19=function(){if(c('MessengerEnvironment').messengerui)c('MessengerActions').hideDialog();this.setState({loadingShare:false});}.bind(this),this.$GamesQuicksilverEndScreenPresentation20=function(){this.setState({loadingShare:false});var s=c('React').createElement('div',null,c('React').createElement(c('XUIDialogCancelButton.react'),null),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Share"),use:'confirm',onClick:this.$GamesQuicksilverEndScreenPresentation15}));c('SimpleXUIDialog').showEx(i._("Sorry, something went wrong. Please try again."),i._("Couldn't Share"),s);}.bind(this),o;}l.prototype.componentWillUnmount=function(){this.$GamesQuicksilverEndScreenPresentation1&&this.$GamesQuicksilverEndScreenPresentation1.abort();};l.prototype.render=function(){return c('React').createElement('div',{className:"_t9_"},c('React').createElement('div',{className:"_58v1"+(this.state.showingGameInfo?' '+"_58v2":'')},c('React').createElement('div',{className:"_58v3"},this.$GamesQuicksilverEndScreenPresentation2()),c('React').createElement('div',{className:"_58v6"},this.$GamesQuicksilverEndScreenPresentation3())),this.$GamesQuicksilverEndScreenPresentation4(),c('React').createElement(c('LoadingOverlay.react'),{isLoading:this.state.loadingShare}));};l.prototype.$GamesQuicksilverEndScreenPresentation3=function(){return c('React').createElement('div',null,c('React').createElement('div',{key:'gameinfo',className:"_ixc"},c('React').createElement(c('FullSizeVerticalScrollView.react'),null,c('React').createElement(c('AnimatedSlideInFromBottom.react'),{initialOffset:'100%',targetOffset:'20px',translate:'0px',trigger:!this.props.loadingRelay&&this.state.showingGameInfo},c('React').createElement(c('GamesQuicksilverGameInfoPanel.react'),{challengesInfo:this.props.challengesInfo,chooseChallengeHandler:function(n){this.$GamesQuicksilverEndScreenPresentation5(n);}.bind(this),enableGameSwitch:this.props.enableGameSwitch,leaderboard:this.props.leaderboard&&this.props.leaderboard.length>0?this.props.friendLeaderboard:null,gameInfo:this.props.gameInfo,recommendationInfo:this.props.recommendationInfo,shareHandler:function(){return this.$GamesQuicksilverEndScreenPresentation6();}.bind(this),switchGameHandler:this.props.switchGame})))),c('React').createElement(c('LoadingOverlay.react'),{isLoading:this.props.loadingRelay&&this.state.showingGameInfo}));};l.prototype.$GamesQuicksilverEndScreenPresentation2=function(){return c('React').createElement('div',{key:'mainpanel',className:"_ixc"},c('React').createElement(c('FullSizeVerticalScrollView.react'),null,c('React').createElement(c('AnimatedSlideInFromBottom.react'),{initialOffset:'100%',targetOffset:((this.state.replayButtonOffsetTop||150)-150).toString()+'px',trigger:!this.props.loadingLeaderboard},this.$GamesQuicksilverEndScreenPresentation7())));};l.prototype.$GamesQuicksilverEndScreenPresentation7=function(){if(this.props.loadingLeaderboard)return null;var n=this.props.currentScore&&this.props.currentScore.score,o=this.props.contextKey.isGroup()||this.props.contextKey.isThread()?this.props.leaderboard:this.props.friendLeaderboard;if(!o)return null;o=o.filter(function(q){return q.user;});var p=o.find(function(q){return q.user.id===c('CurrentUser').getID();});if(!p)return null;return c('React').createElement('div',{className:"_5k2t"},this.$GamesQuicksilverEndScreenPresentation8(p,n||'0'),this.$GamesQuicksilverEndScreenPresentation9(o,this.props.leaderboardTitle,p.user.id));};l.prototype.$GamesQuicksilverEndScreenPresentation10=function(){return c('React').createElement('div',{className:"_1ysk"},this.$GamesQuicksilverEndScreenPresentation11());};l.prototype.$GamesQuicksilverEndScreenPresentation8=function(n,o){var p=n.user.name||'',q=n.user.photo&&n.user.photo.uri;return c('React').createElement(c('GamesQuicksilverPlayerInfo.react'),{photoURI:q,name:p,score:o,rank:''});};l.prototype.$GamesQuicksilverEndScreenPresentation9=function(n,o,p){if(n.length===1&&n[0].user.id===p)return null;return c('React').createElement(c('GamesQuicksilverLeaderboard.react'),{contextKey:this.props.contextKey,leaderboard:n,playerID:p,title:o});};l.prototype.$GamesQuicksilverEndScreenPresentation4=function(){return c('React').createElement('div',{className:"_83c"},this.$GamesQuicksilverEndScreenPresentation12(),this.$GamesQuicksilverEndScreenPresentation13(),this.$GamesQuicksilverEndScreenPresentation11(),this.$GamesQuicksilverEndScreenPresentation14());};l.prototype.$GamesQuicksilverEndScreenPresentation13=function(){var n=i._("Play Again");return c('React').createElement('a',{className:"_ta6",href:'#',onClick:this.props.onReplay,onTouchStart:this.props.onReplay,ref:function(o){if(this.state.replayButtonOffsetTop)return;var p=o.offsetTop+o.clientTop+o.offsetParent.offsetTop+o.offsetParent.clientTop;this.setState({replayButtonOffsetTop:p});}.bind(this)},n);};l.prototype.$GamesQuicksilverEndScreenPresentation11=function(){if(this.state.showingGameInfo)return null;var n=this.props.screenshot;if(n==null)return null;return c('React').createElement('div',{className:"_taq",onClick:this.$GamesQuicksilverEndScreenPresentation15,onTouchStart:this.$GamesQuicksilverEndScreenPresentation15,role:'button',tabIndex:0},c('React').createElement('div',{className:"_1ysl"}));};l.prototype.$GamesQuicksilverEndScreenPresentation14=function(){if(!this.state.showingGameInfo)return null;return c('React').createElement('div',{className:"_58v7",onClick:function(){this.$GamesQuicksilverEndScreenPresentation16();this.props.toggleBlur();}.bind(this),onTouchStart:function(){this.$GamesQuicksilverEndScreenPresentation16();this.props.toggleBlur();}.bind(this),role:'button',tabIndex:0},c('React').createElement('div',{className:"_58v8"}));};l.prototype.$GamesQuicksilverEndScreenPresentation12=function(){if(this.state.showingGameInfo)return null;return c('React').createElement('div',{className:"_83d",onClick:function(){this.$GamesQuicksilverEndScreenPresentation17();this.props.toggleBlur();}.bind(this),onTouchStart:function(){this.$GamesQuicksilverEndScreenPresentation17();this.props.toggleBlur();}.bind(this),role:'button',tabIndex:0},c('React').createElement('div',{className:"_58v9"}));};l.prototype.$GamesQuicksilverEndScreenPresentation17=function(){this.setState({showingGameInfo:true});};l.prototype.$GamesQuicksilverEndScreenPresentation16=function(){this.setState({showingGameInfo:false});};l.prototype.$GamesQuicksilverEndScreenPresentation18=function(n){this.props.switchContext({id:n,type:c('InstantGameContextType').THREAD,source:'challenge_card'});};l.prototype.$GamesQuicksilverEndScreenPresentation5=function(n){if(!n){this.props.switchContext(null);return;}this.$GamesQuicksilverEndScreenPresentation18(n);};l.prototype.$GamesQuicksilverEndScreenPresentation6=function(){if(this.state.loadingShare)return;if(c('MessengerEnvironment').messengerui){c('MessengerActions').showDialog(c('MessengerGameShareDialog.react'),{gameID:this.props.gameInfo.id,onClose:this.$GamesQuicksilverEndScreenPresentation19,shown:true,title:this.props.gameInfo.name});return;}this.setState({loadingShare:true});var n=c('XGamesQuicksilverShareGameController').getURIBuilder().setString('app_id',this.props.gameInfo.id).getURI();this.$GamesQuicksilverEndScreenPresentation1=new (c('XAsyncRequest'))(n).setMethod('POST').setHandler(this.$GamesQuicksilverEndScreenPresentation19).setErrorHandler(this.$GamesQuicksilverEndScreenPresentation19).send();};var m=function(){return {children:[{fieldName:'tags',kind:'Field',metadata:{isPlural:true},type:'InstantGameListItemTag'},{alias:'textLines',children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'text_lines',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'TextWithEntities'},{alias:'game',children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{alias:'info',children:[{alias:'iconURI',fieldName:'icon_uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'instant_game_info',kind:'Field',metadata:{canHaveSubselections:true},type:'GamesInstantPlayStyleInfo'}],fieldName:'application',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Application'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'GamesQuicksilverEndScreenPresentation_reactRelayQL',type:'InstantGameListGameItem'};}();f.exports=c('Relay').createContainer(l,{initialVariables:{count:0,context:{},gameID:''},fragments:{recommendationInfo:function n(){return function(o){return {children:[{alias:'list',calls:[{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{alias:'games',children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('Relay').QL.__frag(o)]),fieldName:'nodes',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true,isPlural:true},type:'InstantGameListItem'}],fieldName:'items',kind:'Field',metadata:{canHaveSubselections:true},type:'InstantGamesListResultGameListItemConnection'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'GamesQuicksilverEndScreenPresentation_react_RecommendationInfoRelayQL',type:'InstantGamesListResult'};}(m);},challengesInfo:function n(){return function(){return {children:[{alias:'matches',calls:[{kind:'Call',metadata:{},name:'game',value:{kind:'CallVariable',callVariableName:'gameID'}},{kind:'Call',metadata:{type:'InstantGameContextFilterArgs'},name:'context',value:{kind:'CallVariable',callVariableName:'context'}}],children:[{alias:'threadKey',children:[{alias:'opponentID',fieldName:'other_user_id',kind:'Field',metadata:{},type:'ID'},{alias:'threadID',fieldName:'thread_fbid',kind:'Field',metadata:{},type:'String'}],fieldName:'thread_key',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageThreadKey'},{alias:'name',fieldName:'thread_name',kind:'Field',metadata:{},type:'String'},{alias:'lineOne',fieldName:'line_one',kind:'Field',metadata:{},type:'String'},{alias:'lineTwo',fieldName:'line_two',kind:'Field',metadata:{},type:'String'},{alias:'hasExistingGame',fieldName:'has_existing_game',kind:'Field',metadata:{},type:'Boolean'}],fieldName:'instant_game_suggested_matches',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'InstantGameSuggestion'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'GamesQuicksilverEndScreenPresentation_react_ChallengesInfoRelayQL',type:'User'};}();}}});}),null);
__d('GamesQuicksilverEndScreenRelayRoute',['InstantGamesListQuerySurface','Relay'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Relay').Route);i=h&&h.prototype;function j(){h.apply(this,arguments);}j.queries={recommendationInfo:function k(l,m){return function(n){return {calls:[{kind:'Call',metadata:{type:'InstantGamesListInputParams!'},name:'input',value:{kind:'CallVariable',callVariableName:'recommendationInput'}}],children:[].concat.apply([],[c('Relay').QL.__frag(n)]),fieldName:'instant_games_list',kind:'Query',metadata:{identifyingArgName:'input',identifyingArgType:'InstantGamesListInputParams!'},name:'GamesQuicksilverEndScreenRelayRoute',type:'InstantGamesListResult'};}(l.getFragment('recommendationInfo',{count:m.count}));},challengesInfo:function k(l,m){return function(n){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('Relay').QL.__frag(n)]),fieldName:'me',kind:'Query',metadata:{isAbstract:true},name:'GamesQuicksilverEndScreenRelayRoute',type:'Actor'};}(l.getFragment('challengesInfo',{gameID:m.gameID,context:m.context}));}};j.paramDefinitions={contextKey:{required:true,type:'object'},gameID:{required:true,type:'string'},recommendationCount:{required:false,type:'int'}};j.prepareParams=function(k){var l={};if(k.contextKey.isThread()){l.thread_id=k.contextKey.getSourceID();}else if(k.contextKey.isStory()){l.story_token=k.contextKey.getSourceID();}else if(k.contextKey.isGroup())l.group_id=k.contextKey.getSourceID();var m=k.recommendationCount||100;return babelHelpers['extends']({},k,{recommendationInput:{query:{surface:c('InstantGamesListQuerySurface').END_SCREEN_RECS,game_id:k.gameID},key:l},context:l,count:m});};j.routeName='GamesQuicksilverEndScreenRelayRoute';f.exports=j;}),null);
__d('GamesQuicksilverEndScreen.react',['idx','GamesQuicksilverContextKey','React','RelayRootContainer','GamesQuicksilverEndScreenRelayRoute','GamesQuicksilverEndScreenPresentation.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={currentScore:null,friendLeaderboard:null,leaderboard:null,leaderboardTitle:null,loadingLeaderboard:true},this.$GamesQuicksilverEndScreen1=false,l;}j.prototype.componentDidMount=function(){this.$GamesQuicksilverEndScreen1=true;return this.props.saveScore().then(function(k){var l,m,n,o,p,q,r;this.$GamesQuicksilverEndScreen1&&this.setState({loadingLeaderboard:false,currentScore:k.current_score,leaderboard:(l=k)!=null?(m=l.leaderboard)!=null?m.entries:m:l,leaderboardTitle:(n=k)!=null?(o=n.leaderboard)!=null?(p=o.title)!=null?p.text:p:o:n,friendLeaderboard:(q=k)!=null?(r=q.friend_leaderboard)!=null?r.entries:r:q});}.bind(this));};j.prototype.componentWillUnmount=function(){this.$GamesQuicksilverEndScreen1=false;};j.prototype.$GamesQuicksilverEndScreen2=function(k,l){return (c('React').createElement(c('GamesQuicksilverEndScreenPresentation.react'),babelHelpers['extends']({contextKey:this.props.contextKey,currentScore:this.state.currentScore,enableGameSwitch:this.props.enableGameSwitch,friendLeaderboard:this.state.friendLeaderboard,gameInfo:this.props.gameInfo,leaderboard:this.state.leaderboard,leaderboardTitle:this.state.leaderboardTitle,loadingLeaderboard:this.state.loadingLeaderboard,loadingRelay:l,onReplay:this.props.onReplay,saveScore:this.props.saveScore,screenshot:this.props.screenshot,switchGame:this.props.switchGame,switchContext:this.props.switchContext,toggleBlur:this.props.toggleBlur,gameplayScore:this.props.gameplayScore},k)));};j.prototype.render=function(){return (c('React').createElement(c('RelayRootContainer'),{Component:c('GamesQuicksilverEndScreenPresentation.react'),renderLoading:function(k){return this.$GamesQuicksilverEndScreen2(k,true);}.bind(this),renderFetched:function(k){return this.$GamesQuicksilverEndScreen2(k,false);}.bind(this),route:new (c('GamesQuicksilverEndScreenRelayRoute'))({contextKey:this.props.contextKey,gameID:this.props.gameInfo.id})}));};f.exports=j;}),null);
__d('GamesQuicksilverError',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$GamesQuicksilverError1=i;}h.prototype.setMessage=function(i){'use strict';this.$GamesQuicksilverError1=i;return this;};h.prototype.serialize=function(){'use strict';return {message:this.$GamesQuicksilverError1||''};};f.exports=h;}),null);
__d('GamesQuicksilverFunnelLogger',['FunnelLogger','InstantGameContextType'],(function a(b,c,d,e,f,g){'use strict';function h(n){c('FunnelLogger').startFunnel(n);c('FunnelLogger').appendActionIfNew(n,'quicksilver_start');}function i(n){c('FunnelLogger').appendActionIfNew(n,'quicksilver_end');c('FunnelLogger').endFunnel(n);}function j(n,o,p,q,r){c('FunnelLogger').appendActionWithTagAndPayload(n,'game_play_start',p,{source:o,thread_id:q===c('InstantGameContextType').THREAD?r:null,group_id:q===c('InstantGameContextType').GROUP?r:null,story_token:q===c('InstantGameContextType').STORY?r:null});}function k(n,o,p,q){c('FunnelLogger').appendActionWithTagAndPayload(n,'game_play_end',o,{thread_id:p===c('InstantGameContextType').THREAD?q:null,group_id:p===c('InstantGameContextType').GROUP?q:null,story_token:p===c('InstantGameContextType').STORY?q:null});}function l(n,o){c('FunnelLogger').appendActionWithTagAndPayload(n,'game_switch',o,{game_id:o});}function m(n,o,p,q,r){c('FunnelLogger').appendActionWithTagAndPayload(n,'game_context_update',p,{source:o,thread_id:q===c('InstantGameContextType').THREAD?r:null,group_id:q===c('InstantGameContextType').GROUP?r:null,story_token:q===c('InstantGameContextType').STORY?r:null});}f.exports={startFunnel:h,endFunnel:i,logGamePlayStart:j,logGamePlayEnd:k,logGameSwitch:l,logGameContextUpdate:m};}),null);
__d('GamesQuicksilverIframe.react',['cx','React','ReactDOM'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement('iframe',{ref:function(l){return this.$GamesQuicksilverIframe1=l;}.bind(this),className:"_28-7"+(this.props.blurred?' '+"_1_05":''),src:this.props.src,style:this.props.visible?null:{visibility:'hidden'}}));};k.prototype.componentWillReceiveProps=function(l){'use strict';if(l.message&&this.props.message!==l.message)this.sendMessage(l.message);};k.prototype.sendMessage=function(l){'use strict';var m=c('ReactDOM').findDOMNode(this);m.contentWindow.postMessage({type:l.type,content:l.content,source:this.props.source},this.props.src);};k.prototype.setFocus=function(){'use strict';this.$GamesQuicksilverIframe1.focus();};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('GamesQuicksilverMessageSender',['GamesQuicksilverError','InstantGamesContextualPlayer.react'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$GamesQuicksilverMessageSender1=i;this.$GamesQuicksilverMessageSender2=null;}h.prototype.getClientMessage=function(){return this.$GamesQuicksilverMessageSender2;};h.prototype.sendMessage=function(i,j){this.$GamesQuicksilverMessageSender2={type:i,content:j};this.$GamesQuicksilverMessageSender1.forceUpdate();};h.prototype.resolveGamePromise=function(i,j){this.sendMessage('resolvepromise',{promiseID:i,data:j});};h.prototype.rejectGamePromise=function(i,j){this.sendMessage('rejectpromise',{promiseID:i,data:j.serialize()});};f.exports=h;}),null);
__d("ChangePlayerStateMutationWebGraphQLMutation",["WebGraphQLMutationHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLMutationHelper").getExports({docID:"1330951786948751",queryID:"1765456090439479"});}),null);
__d("InstantApplicationUserScopeQueryWebGraphQLQuery",["WebGraphQLQueryHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLQueryHelper").getExports({docID:"1234294563318857",queryID:"1069788856481402"});}),null);
__d('GamesQuicksilverPlayerState',['Promise','clearInterval','setInterval','ChangePlayerStateMutationWebGraphQLMutation','GamesQuicksilverError','GamesQuicksilverMessageSender','InstantApplicationUserScopeQueryWebGraphQLQuery','XAsyncRequest'],(function a(b,c,d,e,f,g){'use strict';var h=5000;function i(j,k,l){this.$GamesQuicksilverPlayerState4=false;this.$GamesQuicksilverPlayerState5=null;this.$GamesQuicksilverPlayerState1=j;this.$GamesQuicksilverPlayerState3=k;this.$GamesQuicksilverPlayerState6=l?l:h;this.$GamesQuicksilverPlayerState2=null;}i.prototype.cleanup=function(){if(this.$GamesQuicksilverPlayerState7)this.savePlayerStateAsync();if(this.$GamesQuicksilverPlayerState2!==null){c('clearInterval')(this.$GamesQuicksilverPlayerState2);this.$GamesQuicksilverPlayerState2=null;}this.$GamesQuicksilverPlayerState5=null;};i.prototype.updateGame=function(j){this.$GamesQuicksilverPlayerState1=j;this.$GamesQuicksilverPlayerState5=null;};i.prototype.savePlayerStateAsync=function(){var j=this.$GamesQuicksilverPlayerState5;return new (c('Promise'))(function(k,l){if(!j||!this.$GamesQuicksilverPlayerState7||this.$GamesQuicksilverPlayerState4){k();return;}var m=JSON.stringify(j);this.$GamesQuicksilverPlayerState7=false;var n=c('ChangePlayerStateMutationWebGraphQLMutation').getURI({app_id:this.$GamesQuicksilverPlayerState1,player_state:m});this.$GamesQuicksilverPlayerState4=true;new (c('XAsyncRequest'))(n).setMethod('POST').setHandler(function(){this.$GamesQuicksilverPlayerState4=false;k();}.bind(this)).setErrorHandler(function(){this.$GamesQuicksilverPlayerState7=true;this.$GamesQuicksilverPlayerState4=false;l(new Error('An error occurred while saving the player state'));}.bind(this)).send();}.bind(this));};i.prototype.getPlayerDataAsync=function(j){if(!j||!j.promiseID)return new (c('Promise'))(function(k,l){l(new (c('GamesQuicksilverError'))('Input is null or missing the promiseID property'));});return this.$GamesQuicksilverPlayerState8(j).then(this.$GamesQuicksilverPlayerState9.bind(this)).then(function(){return this.$GamesQuicksilverPlayerState10(j.keys);}.bind(this)).then(function(k){this.$GamesQuicksilverPlayerState3.resolveGamePromise(j.promiseID,k);}.bind(this))['catch'](function(k){this.$GamesQuicksilverPlayerState3.rejectGamePromise(j.promiseID,k);}.bind(this));};i.prototype.setPlayerDataAsync=function(j){if(!j||!j.promiseID)return new (c('Promise'))(function(k,l){l(new (c('GamesQuicksilverError'))('Input is null or missing the promiseID property'));});return this.$GamesQuicksilverPlayerState11(j).then(this.$GamesQuicksilverPlayerState9.bind(this)).then(function(){return this.$GamesQuicksilverPlayerState12(j.data);}.bind(this)).then(function(){return this.$GamesQuicksilverPlayerState3.resolveGamePromise(j.promiseID,true);}.bind(this))['catch'](function(k){return this.$GamesQuicksilverPlayerState3.rejectGamePromise(j.promiseID,k);}.bind(this));};i.prototype.$GamesQuicksilverPlayerState8=function(j){return new (c('Promise'))(function(k,l){if(!j.keys||!Array.isArray(j.keys)){l(new (c('GamesQuicksilverError'))('Missing required value: keys'));}else k();});};i.prototype.$GamesQuicksilverPlayerState11=function(j){return new (c('Promise'))(function(k,l){if(!j.data||!(j.data instanceof Object)){l(new (c('GamesQuicksilverError'))('Missing required object: data'));}else k();});};i.prototype.$GamesQuicksilverPlayerState10=function(j){if(!this.$GamesQuicksilverPlayerState5)return {};var k=this.$GamesQuicksilverPlayerState5,l={};j.forEach(function(m){if(k[m])l[m]=k[m];});return l;};i.prototype.$GamesQuicksilverPlayerState12=function(j){if(!this.$GamesQuicksilverPlayerState5)return;var k=this.$GamesQuicksilverPlayerState5;Object.keys(j).forEach(function(l){k[l]=j[l];});this.$GamesQuicksilverPlayerState7=true;this.$GamesQuicksilverPlayerState5=k;};i.prototype.$GamesQuicksilverPlayerState9=function(){return new (c('Promise'))(function(j,k){if(!this.$GamesQuicksilverPlayerState5){j(this.$GamesQuicksilverPlayerState13());}else j();}.bind(this));};i.prototype.$GamesQuicksilverPlayerState13=function(){return new (c('Promise'))(function(j,k){var l=c('InstantApplicationUserScopeQueryWebGraphQLQuery').getLegacyURI({app_id:this.$GamesQuicksilverPlayerState1}),m=function(n){if(!n.viewer||!n.viewer.actor||!n.viewer.actor.user_scope){k(new (c('GamesQuicksilverError'))('Query for player state failed'));return;}var o=n.viewer.actor.user_scope.player_state,p=JSON.parse(o)||{};this.$GamesQuicksilverPlayerState5=p;this.$GamesQuicksilverPlayerState14();j();}.bind(this);new (c('XAsyncRequest'))(l).setHandler(function(n){m(n.payload);}).setErrorHandler(function(){k(new (c('GamesQuicksilverError'))('An error occurred while fetching the player state'));}).send();}.bind(this));};i.prototype.$GamesQuicksilverPlayerState14=function(){this.$GamesQuicksilverPlayerState2=c('setInterval')(function(){return this.savePlayerStateAsync();}.bind(this),this.$GamesQuicksilverPlayerState6);};f.exports=i;}),null);
__d('InstantGamesContextualPlayerRelayRoute',['InstantGameContextType','Relay'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Relay').Route);i=h&&h.prototype;function j(){h.apply(this,arguments);}j.queries={contextToken:function k(l,m){return function(n){return {calls:[{kind:'Call',metadata:{type:'InstantApplicationContextTokenInputParam!'},name:'input',value:{kind:'CallVariable',callVariableName:'tokenInput'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(n)]),fieldName:'instant_application_context_token',kind:'Query',metadata:{identifyingArgName:'input',identifyingArgType:'InstantApplicationContextTokenInputParam!'},name:'InstantGamesContextualPlayerRelayRoute',type:'InstantApplicationContextToken'};}(l.getFragment('contextToken',{}));},thread:function k(l,m){return function(n){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'contextSourceID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(n)]),fieldName:'message_thread',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'InstantGamesContextualPlayerRelayRoute',type:'MessageThread'};}(l.getFragment('thread',{gameID:m.gameID})['if'](m.isThread));}};j.paramDefinitions={gameID:{required:true,type:'string'},contextSourceID:{required:false,type:'string'},contextType:{required:false,type:'string'}};j.prepareParams=function(k){var l={},m=false;switch(k.contextType){case c('InstantGameContextType').THREAD:l.thread_id=k.contextSourceID;m=true;break;case c('InstantGameContextType').STORY:l.story_token=k.contextSourceID;break;case c('InstantGameContextType').GROUP:l.group_id=k.contextSourceID;break;case c('InstantGameContextType').MATCH:l.match_id=k.contextSourceID;break;default:break;}return babelHelpers['extends']({},k,{tokenInput:{key:l,app_id:k.gameID},isThread:m});};j.routeName='InstantGamesContextualPlayerRelayRoute';f.exports=j;}),null);
__d('InstantGamesMessageListener',[],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$InstantGamesMessageListener1=false;this.$InstantGamesMessageListener2=null;this.$InstantGamesMessageListener4=i;this.$InstantGamesMessageListener3=j;}h.prototype.init=function(){'use strict';if(this.$InstantGamesMessageListener1)return;this.$InstantGamesMessageListener2=function(i){if(i.data&&i.data.destination){if(i.data.destination!==this.$InstantGamesMessageListener4)return;var j=i.data.type;if(!j)return;this.$InstantGamesMessageListener3(j,i.data.content||null);}}.bind(this);window.addEventListener('message',this.$InstantGamesMessageListener2,false);};h.prototype.close=function(){'use strict';if(this.$InstantGamesMessageListener1)return;if(this.$InstantGamesMessageListener2)window.removeEventListener('message',this.$InstantGamesMessageListener2);this.$InstantGamesMessageListener1=true;};f.exports=h;}),null);
__d('isWebGLEnabled',[],(function a(b,c,d,e,f,g){'use strict';var h=null;function i(){try{var l=document.createElement('canvas');return Boolean(window.WebGLRenderingContext)&&Boolean(l.getContext('webgl')||l.getContext('experimental-webgl'));}catch(k){return false;}}function j(){if(h===null)h=i();return h;}f.exports=j;}),null);
__d('uuid',[],(function a(b,c,d,e,f,g){function h(){return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(i){var j=Math.random()*16|0,k=i=='x'?j:j&3|8;return k.toString(16);});}f.exports=h;}),null);
__d('InstantGamesContextualPlayer.react',['cx','fbt','isWebGLEnabled','uuid','GamesQuicksilverAnalyticsInfo','GamesQuicksilverContextKey','InstantGameContextType','FunnelLogger','GamesQuicksilverFunnelLogger','GamesQuicksilverIframe.react','LoadingOverlay.react','InstantGamesMessageListener','GamesQuicksilverMessageSender','GamesQuicksilverPlayerState','InstantGamesContextualPlayerPresentation.react','RelayRootContainer','InstantGamesContextualPlayerRelayRoute','React','URI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l={INITIAL:'initial',LOADING:'loading',READY:'ready',PLAYING:'playing',GAMEOVER:'gameover'};j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$InstantGamesContextualPlayer2=false;this.state=this.$InstantGamesContextualPlayer9(n);this.$InstantGamesContextualPlayer4=c('isWebGLEnabled')();this.$InstantGamesContextualPlayer8='fbinstant-'+this.props.gameInfo.id;this.$InstantGamesContextualPlayer1=[];this.$InstantGamesContextualPlayer5=new (c('InstantGamesMessageListener'))(this.$InstantGamesContextualPlayer8,function(o,p){return this.$InstantGamesContextualPlayer10(o,p);}.bind(this));this.$InstantGamesContextualPlayer5.init();c('GamesQuicksilverFunnelLogger').startFunnel(this.props.analyticsInfo.getFunnelName());c('FunnelLogger').addFunnelTag(this.props.analyticsInfo.getFunnelName(),'app:'+this.props.gameInfo.id);c('FunnelLogger').addFunnelTag(this.props.analyticsInfo.getFunnelName(),'source:'+this.props.analyticsInfo.getSource());c('FunnelLogger').addFunnelTag(this.props.analyticsInfo.getFunnelName(),'webgl_supported:'+(this.$InstantGamesContextualPlayer4?'true':'false'));if(this.$InstantGamesContextualPlayer11())c('FunnelLogger').appendAction(this.props.analyticsInfo.getFunnelName(),'not_supported');}m.prototype.componentWillUnmount=function(){this.$InstantGamesContextualPlayer5.close();};m.prototype.render=function(){return (c('React').createElement('div',{className:"_1o3k"},this.$InstantGamesContextualPlayer12(),this.$InstantGamesContextualPlayer13(),c('React').createElement(c('RelayRootContainer'),{Component:c('InstantGamesContextualPlayerPresentation.react'),renderLoading:function(n){return this.$InstantGamesContextualPlayer14(n,true);}.bind(this),renderFetched:function(n){return this.$InstantGamesContextualPlayer14(n,false);}.bind(this),route:new (c('InstantGamesContextualPlayerRelayRoute'))({gameID:this.props.gameInfo.id,contextSourceID:this.state.contextSourceID,contextType:this.state.contextType})})));};m.prototype.$InstantGamesContextualPlayer14=function(n,o){if(this.$InstantGamesContextualPlayer11())return null;if(o)return (c('React').createElement(c('LoadingOverlay.react'),{isLoading:true}));this.$InstantGamesContextualPlayer5.close();return (c('React').createElement(c('InstantGamesContextualPlayerPresentation.react'),babelHelpers['extends']({},this.props,n,{bufferedMessageDelegate:function(p){return this.$InstantGamesContextualPlayer15(p);}.bind(this),changeContainerState:function(p){return this.$InstantGamesContextualPlayer16(p);}.bind(this),contextSourceID:this.state.contextSourceID,contextType:this.state.contextType,focusIframe:function(){return this.$InstantGamesContextualPlayer17();}.bind(this),gameHasStarted:this.$InstantGamesContextualPlayer2,gameState:this.state.gameState,loading:o,messageSender:this.$InstantGamesContextualPlayer6,onSwitchContext:function(p){return this.$InstantGamesContextualPlayer18(p);}.bind(this),onSwitchGame:function(p,q){return this.$InstantGamesContextualPlayer19(p,q);}.bind(this),playerState:this.$InstantGamesContextualPlayer7,sessionID:this.state.sessionID,source:this.$InstantGamesContextualPlayer8,toggleBlur:function(p){return this.$InstantGamesContextualPlayer20(p);}.bind(this)})));};m.prototype.$InstantGamesContextualPlayer13=function(){if(!(this.state.gameState===l.INITIAL)&&!(this.state.gameState===l.LOADING)&&!(this.state.gameState===l.READY))return null;var n=this.props.gameInfo.splashURI||'',o=c('React').createElement(c('LoadingOverlay.react'),{isLoading:this.state.gameState!==l.READY});return (c('React').createElement('div',{className:"_t9_"},c('React').createElement('div',{className:"_3aiz",style:{backgroundImage:'url('+n+')'}},o),this.$InstantGamesContextualPlayer11()?null:c('React').createElement('div',{className:"_5w5r"},c('React').createElement('div',{className:"_4pnh",style:{width:this.state.progress+'%'}})),this.$InstantGamesContextualPlayer11()?this.$InstantGamesContextualPlayer21():null));};m.prototype.$InstantGamesContextualPlayer12=function(){if(this.$InstantGamesContextualPlayer11()||this.state.gameState===l.INITIAL)return null;var n=new (c('URI'))(this.props.overrideGameURL||this.props.gameInfo.gameURI);n.addQueryData({source:this.$InstantGamesContextualPlayer8});return (c('React').createElement(c('GamesQuicksilverIframe.react'),{ref:function(o){return this.$InstantGamesContextualPlayer3=o;}.bind(this),message:this.$InstantGamesContextualPlayer6.getClientMessage(),source:this.$InstantGamesContextualPlayer8,src:n.toString(),visible:this.state.gameState===l.PLAYING||this.state.gameState===l.GAMEOVER,blurred:this.state.blurIframe}));};m.prototype.$InstantGamesContextualPlayer21=function(){return (c('React').createElement('div',{className:"_1nsi"},c('React').createElement('div',{className:"_1d3c"},!this.$InstantGamesContextualPlayer4?i._("Sorry, your browser does not support this feature. Please use a different browser and try again."):i._("Sorry, this feature is not supported in your region yet."))));};m.prototype.$InstantGamesContextualPlayer11=function(){return !this.props.enabled||!this.$InstantGamesContextualPlayer4;};m.prototype.$InstantGamesContextualPlayer17=function(){this.$InstantGamesContextualPlayer3.setFocus();};m.prototype.$InstantGamesContextualPlayer20=function(n){var o=n!=null?n:!this.state.blurIframe;this.setState({blurIframe:o});};m.prototype.$InstantGamesContextualPlayer9=function(n){this.$InstantGamesContextualPlayer6=new (c('GamesQuicksilverMessageSender'))(this);this.$InstantGamesContextualPlayer7=new (c('GamesQuicksilverPlayerState'))(n.gameInfo.id,this.$InstantGamesContextualPlayer6);return {blurIframe:false,contextSourceID:n.contextSourceID,contextType:n.contextType,gameState:l.LOADING,progress:0,sessionID:n.sessionID};};m.prototype.$InstantGamesContextualPlayer15=function(n){n(this.$InstantGamesContextualPlayer1);this.$InstantGamesContextualPlayer1=[];};m.prototype.$InstantGamesContextualPlayer10=function(n,o){this.$InstantGamesContextualPlayer1.push({type:n,content:o||null});};m.prototype.$InstantGamesContextualPlayer16=function(n){if(n.gameState===l.PLAYING)this.$InstantGamesContextualPlayer2=true;this.setState(babelHelpers['extends']({},n));};m.prototype.$InstantGamesContextualPlayer18=function(n){c('GamesQuicksilverFunnelLogger').logGameContextUpdate(this.props.analyticsInfo.getFunnelName(),n&&n.source||null,this.props.gameInfo.id,n?n.type:c('InstantGameContextType').SOLO,n?n.id:null);if(!n){this.setState({contextSourceID:null,contextType:c('InstantGameContextType').SOLO,gameState:l.READY,sessionID:c('uuid')()});return;}this.setState({contextSourceID:n.id,contextType:n.type,gameState:l.READY,sessionID:c('uuid')()});};m.prototype.$InstantGamesContextualPlayer19=function(n,o){this.$InstantGamesContextualPlayer20(false);this.$InstantGamesContextualPlayer7.cleanup();this.props.onSwitchGame({gameID:n,contextKey:o,sessionID:this.state.sessionID});};f.exports=m;}),null);
__d("AddScoreMutationWebGraphQLMutation",["WebGraphQLMutationHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLMutationHelper").getExports({docID:"1262764433804137",queryID:"1895128154104292"});}),null);
__d('InstantGamesChallenge',['Promise','MercuryIDs','MercuryThreads'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryThreads').get();function i(j){if(j.otherUserID){this.$Challenge1=c('MercuryIDs').getThreadIDFromUserID(j.otherUserID);}else if(j.threadFBID)this.$Challenge1=c('MercuryIDs').getThreadIDFromThreadFBID(j.threadFBID);h.getOrFetch(this.$Challenge1);}i.prototype.getThreadAsync=function(){return new (c('Promise'))(function(j,k){h.getThreadMeta(this.getThreadID(),function(l){if(!l){k('Unable to fetch thread.');return;}j(l);});}.bind(this));};i.prototype.getThreadID=function(){return this.$Challenge1;};i.prototype.getThreadFBID=function(){return c('MercuryIDs').getThreadFBIDFromThreadID(this.$Challenge1);};f.exports=i;}),null);
__d('InstantGamesStartChallengeCard.react',['cx','fbt','InstantGamesChallenge','CurrentUser','immutable','MercuryThreadTitle.react','MessengerThreadImage.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=91;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.state={thread:null};}m.prototype.componentWillMount=function(){this.props.challenge.getThreadAsync().done(function(n){return this.setState({thread:n});}.bind(this));};m.prototype.render=function(){if(!this.state.thread)return null;return (c('React').createElement('div',{className:"_4mar"},c('React').createElement('div',{className:"_4mas"},this.$InstantGamesStartChallengeCard1()),this.$InstantGamesStartChallengeCard2(),this.$InstantGamesStartChallengeCard3(),this.$InstantGamesStartChallengeCard4()));};m.prototype.$InstantGamesStartChallengeCard1=function(){return (c('React').createElement(c('MercuryThreadTitle.react'),{thread:this.state.thread,useAndSeparator:true,useShortName:true,viewer:c('CurrentUser').getID()}));};m.prototype.$InstantGamesStartChallengeCard2=function(){return (c('React').createElement(c('MessengerThreadImage.react'),{className:"_4mat",participants:c('immutable').Map(),size:l,thread:this.state.thread,viewer:c('CurrentUser').getID()}));};m.prototype.$InstantGamesStartChallengeCard3=function(){var n=c('React').createElement('div',{className:"_4mau"},this.props.gameName);return (c('React').createElement('div',{className:"_4mav"},i._("Challenge {thread title} to beat your score in {game title}",[i.param('thread title',this.$InstantGamesStartChallengeCard1()),i.param('game title',n)])));};m.prototype.$InstantGamesStartChallengeCard4=function(){return (c('React').createElement('div',{className:"_30f1",href:'#',onClick:this.props.onPlay,onTouchStart:this.props.onPlay,role:'button',tabIndex:0},i._("Play Now")));};f.exports=m;}),null);
__d('GamesQuicksilverStartScreenPresentation.react',['cx','fbt','idx','InstantGamesChallenge','GamesQuicksilverContextKey','CurrentUser','FullSizeVerticalScrollView.react','GamesQuicksilverLeaderboard.react','GamesQuicksilverPlayerInfo.react','AnimatedSlideInFromBottom.react','InstantGamesStartChallengeCard.react','React','Relay'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(n){'use strict';k.constructor.call(this,n);this.$GamesQuicksilverStartScreenPresentation1=null;this.state={playButtonOffsetTop:null};this.$GamesQuicksilverStartScreenPresentation2(n);}l.prototype.componentWillReceiveProps=function(n){'use strict';this.$GamesQuicksilverStartScreenPresentation2(n);};l.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_t9_"},this.props.isNewChallenge?this.$GamesQuicksilverStartScreenPresentation3():this.$GamesQuicksilverStartScreenPresentation4(),c('React').createElement('div',{className:"_5nm1"},this.$GamesQuicksilverStartScreenPresentation5(),this.$GamesQuicksilverStartScreenPresentation6())));};l.prototype.$GamesQuicksilverStartScreenPresentation4=function(){'use strict';return (c('React').createElement('div',{className:"_ixc"},c('React').createElement(c('FullSizeVerticalScrollView.react'),null,c('React').createElement(c('AnimatedSlideInFromBottom.react'),{initialOffset:'100%',targetOffset:((this.state.playButtonOffsetTop||150)-150).toString()+'px',trigger:!this.props.loading&&this.state.playButtonOffsetTop!=null},this.$GamesQuicksilverStartScreenPresentation7()))));};l.prototype.$GamesQuicksilverStartScreenPresentation3=function(){'use strict';if(!this.$GamesQuicksilverStartScreenPresentation1)return null;return (c('React').createElement('div',{className:"_ixc"},c('React').createElement('div',{className:"_1tnh"},c('React').createElement(c('InstantGamesStartChallengeCard.react'),{challenge:this.$GamesQuicksilverStartScreenPresentation1,gameName:this.props.gameInfo.name,onPlay:this.props.onPlay}))));};l.prototype.$GamesQuicksilverStartScreenPresentation7=function(){'use strict';var n=this.props,o=n.friendLeaderboard,p=n.groupLeaderboard,q=n.threadLeaderboard,r=null,s=null;if(this.props.contextKey.isGroup()){var t,u,v,w,x;r=(t=p)!=null?(u=t.leaderboard)!=null?u.entries:u:t;s=(v=p)!=null?(w=v.leaderboard)!=null?(x=w.title)!=null?x.text:x:w:v;}else if(this.props.contextKey.isThread()){var y,z,aa,ba,ca;r=(y=q)!=null?(z=y.leaderboard)!=null?z.entries:z:y;s=(aa=q)!=null?(ba=aa.leaderboard)!=null?(ca=ba.title)!=null?ca.text:ca:ba:aa;}else{var da,ea;r=(da=o)!=null?(ea=da.leaderboard)!=null?ea.entries:ea:da;}if(!r)return null;r=r.filter(function(fa){return fa.user;});return (c('React').createElement('div',null,this.$GamesQuicksilverStartScreenPresentation8(r),this.$GamesQuicksilverStartScreenPresentation9(r,s,c('CurrentUser').getID())));};l.prototype.$GamesQuicksilverStartScreenPresentation8=function(n){'use strict';var o=this.$GamesQuicksilverStartScreenPresentation10(n),p=o.user,q=o.score,r=o.rank;if(!n||!(p&&q&&r))return null;var s=p.name,t=p.photo&&p.photo.uri;return (c('React').createElement(c('GamesQuicksilverPlayerInfo.react'),{photoURI:t,name:s,score:q,rank:r}));};l.prototype.$GamesQuicksilverStartScreenPresentation9=function(n,o,p){'use strict';if(n.length===1&&n[0].user.id===p)return null;return (c('React').createElement('div',{className:"_17bf"},c('React').createElement(c('GamesQuicksilverLeaderboard.react'),{contextKey:this.props.contextKey,leaderboard:n,playerID:p,title:o})));};l.prototype.$GamesQuicksilverStartScreenPresentation5=function(){'use strict';if(this.props.isNewChallenge)return null;return (c('React').createElement('div',{className:"_5qxf"},c('React').createElement('div',{className:"_5z92"},c('React').createElement('a',{className:"_5qxg",href:'#',onClick:this.props.onPlay,onTouchStart:this.props.onPlay,ref:function(n){if(this.state.playButtonOffsetTop)return;var o=n.offsetTop+n.clientTop+n.offsetParent.offsetTop+n.offsetParent.clientTop;this.setState({playButtonOffsetTop:o});}.bind(this)},i._("Play Now")))));};l.prototype.$GamesQuicksilverStartScreenPresentation6=function(){'use strict';if(this.props.contextKey.isGroup()){return (c('React').createElement('div',{className:"_5qxh"},i._("Group members can see your scores. When you play, games will have access to your name and profile picture.")));}else return (c('React').createElement('div',{className:"_5qxh"},i._("Friends can see your scores. When you play, games will have access to your name and profile picture.")));};l.prototype.$GamesQuicksilverStartScreenPresentation2=function(n){'use strict';if(n.isNewChallenge){var o,p=(o=n.threadLeaderboard)!=null?o.threadKey:o;if(p)this.$GamesQuicksilverStartScreenPresentation1=new (c('InstantGamesChallenge'))(p);}};l.prototype.$GamesQuicksilverStartScreenPresentation10=function(n){'use strict';if(!n||!n.length)return {};var o=c('CurrentUser').getID();for(var p=n,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var s;if(q){if(r>=p.length)break;s=p[r++];}else{r=p.next();if(r.done)break;s=r.value;}var t=s,u=t.user;if(u&&u.id&&u.id===o)return t;}return {};};var m=function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{alias:'photo',calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:{kind:'CallValue',callValue:48}},{kind:'Call',metadata:{type:'Float'},name:'scale',value:{kind:'CallValue',callValue:1}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'GamesQuicksilverStartScreenPresentation_reactRelayQL',type:'User'};}();f.exports=c('Relay').createContainer(l,{initialVariables:{gameID:null},fragments:{friendLeaderboard:function n(){return function(o){return {children:[{alias:'leaderboard',calls:[{kind:'Call',metadata:{},name:'game',value:{kind:'CallVariable',callVariableName:'gameID'}}],children:[{alias:'entries',children:[{fieldName:'score',kind:'Field',metadata:{},type:'String'},{fieldName:'rank',kind:'Field',metadata:{},type:'Int'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(o)]),fieldName:'user',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'User'}],fieldName:'leaderboard_entries',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'InstantGameLeaderboardEntry'}],fieldName:'instant_game_friend_leaderboard_entries',kind:'Field',metadata:{canHaveSubselections:true},type:'InstantGameFriendLeaderboard'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'GamesQuicksilverStartScreenPresentation_react_FriendLeaderboardRelayQL',type:'User'};}(m);},groupLeaderboard:function n(){return function(o){return {children:[{alias:'leaderboard',calls:[{kind:'Call',metadata:{},name:'game',value:{kind:'CallVariable',callVariableName:'gameID'}}],children:[{children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'title',kind:'Field',metadata:{canHaveSubselections:true},type:'TextWithEntities'},{alias:'entries',calls:[{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:100}}],children:[{fieldName:'score',kind:'Field',metadata:{},type:'String'},{fieldName:'rank',kind:'Field',metadata:{},type:'Int'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(o)]),fieldName:'user',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'User'}],fieldName:'leaderboard_entries',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'InstantGameLeaderboardEntry'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'instant_game_group_leaderboard',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'InstantGameLeaderboard'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'GamesQuicksilverStartScreenPresentation_react_GroupLeaderboardRelayQL',type:'Group'};}(m);},threadLeaderboard:function n(){return function(o){return {children:[{alias:'leaderboard',calls:[{kind:'Call',metadata:{},name:'game',value:{kind:'CallVariable',callVariableName:'gameID'}}],children:[{children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'title',kind:'Field',metadata:{canHaveSubselections:true},type:'TextWithEntities'},{alias:'entries',children:[{fieldName:'score',kind:'Field',metadata:{},type:'String'},{fieldName:'rank',kind:'Field',metadata:{},type:'Int'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(o)]),fieldName:'user',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'User'}],fieldName:'leaderboard_entries',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'InstantGameLeaderboardEntry'},{alias:'hasScores',fieldName:'has_scores',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'instant_game_leaderboard',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'InstantGameLeaderboard'},{alias:'threadKey',children:[{alias:'otherUserID',fieldName:'other_user_id',kind:'Field',metadata:{},type:'ID'},{alias:'threadFBID',fieldName:'thread_fbid',kind:'Field',metadata:{},type:'String'}],fieldName:'thread_key',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageThreadKey'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'GamesQuicksilverStartScreenPresentation_react_ThreadLeaderboardRelayQL',type:'MessageThread'};}(m);}}});}),null);
__d('GamesQuicksilverStartScreenRelayRoute',['Relay'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('Relay').Route);i=h&&h.prototype;function j(){'use strict';h.apply(this,arguments);}j.queries={friendLeaderboard:function k(l,m){return function(n){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('Relay').QL.__frag(n)]),fieldName:'me',kind:'Query',metadata:{isAbstract:true},name:'GamesQuicksilverStartScreenRelayRoute',type:'Actor'};}(l.getFragment('friendLeaderboard',{gameID:m.gameID}).unless(m.isThread||m.isGroup));},groupLeaderboard:function k(l,m){return function(n){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'contextID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(n)]),fieldName:'group',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'GamesQuicksilverStartScreenRelayRoute',type:'Group'};}(l.getFragment('groupLeaderboard',{gameID:m.gameID})['if'](m.isGroup));},threadLeaderboard:function k(l,m){return function(n){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'contextID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(n)]),fieldName:'message_thread',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'GamesQuicksilverStartScreenRelayRoute',type:'MessageThread'};}(l.getFragment('threadLeaderboard',{gameID:m.gameID})['if'](m.isThread));}};j.paramDefinitions={contextID:{required:true,type:'string'},gameID:{required:true,type:'string'},isGroup:{required:true,type:'boolean'},isThread:{required:true,type:'boolean'}};j.routeName='GamesQuicksilverStartScreenRelayRoute';f.exports=j;}),null);
__d('GamesQuicksilverStartScreen.react',['GamesQuicksilverContextKey','React','RelayRootContainer','GamesQuicksilverStartScreenRelayRoute','GamesQuicksilverStartScreenPresentation.react'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.$GamesQuicksilverStartScreen1=function(k,l){'use strict';return (c('React').createElement(c('GamesQuicksilverStartScreenPresentation.react'),babelHelpers['extends']({loading:k},this.props,l)));};j.prototype.render=function(){'use strict';return (c('React').createElement(c('RelayRootContainer'),{Component:c('GamesQuicksilverStartScreenPresentation.react'),forceFetch:true,renderLoading:function(k){return this.$GamesQuicksilverStartScreen1(true,k);}.bind(this),renderFetched:function(k,l){return this.$GamesQuicksilverStartScreen1(l.stale,k);}.bind(this),route:new (c('GamesQuicksilverStartScreenRelayRoute'))({contextID:this.props.contextKey.getSourceID(),gameID:this.props.gameInfo.id,isGroup:this.props.contextKey.isGroup(),isThread:this.props.contextKey.isThread()})}));};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('InstantGamesChallengeToast.react',['cx','fbt','setTimeout','InstantGamesChallenge','CurrentUser','MercuryThreadTitle.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=4000;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$InstantGamesChallengeToast1=null;this.$InstantGamesChallengeToast2=[];this.state={thread:null};if(n.thread.threadKey)this.$InstantGamesChallengeToast1=new (c('InstantGamesChallenge'))(n.thread.threadKey);}m.prototype.componentWillMount=function(){if(!this.$InstantGamesChallengeToast1)return;this.$InstantGamesChallengeToast1.getThreadAsync().done(function(n){return this.setState({thread:n});}.bind(this));};m.prototype.componentWillUnmount=function(){this.$InstantGamesChallengeToast2.forEach(function(n){return clearTimeout(n);});this.$InstantGamesChallengeToast2=[];};m.prototype.componentDidUpdate=function(n,o){if(o.thread!==this.state.thread)this.$InstantGamesChallengeToast3();};m.prototype.render=function(){if(!this.state.thread)return null;return (c('React').createElement('div',{className:"_15qv",ref:'toast'},c('React').createElement('div',{className:"_15qy"}),this.$InstantGamesChallengeToast4()));};m.prototype.$InstantGamesChallengeToast4=function(){var n=c('React').createElement(c('MercuryThreadTitle.react'),{thread:this.state.thread,useAndSeparator:true,useShortName:true,viewer:c('CurrentUser').getID()});return (c('React').createElement('div',{className:"_15qz"},i._("You've started a game with {Thread title} in Messenger.",[i.param('Thread title',n)])));};m.prototype.$InstantGamesChallengeToast3=function(){this.$InstantGamesChallengeToast2.push(c('setTimeout')(function(){return this.$InstantGamesChallengeToast5();}.bind(this),0),c('setTimeout')(function(){return this.$InstantGamesChallengeToast6();}.bind(this),this.props.duration||l));};m.prototype.$InstantGamesChallengeToast5=function(){this.refs.toast.style.transition='visibility 0s ease-out 0s, opacity 1s';this.refs.toast.style.opacity=1;this.refs.toast.style.visibility='visible';};m.prototype.$InstantGamesChallengeToast6=function(){this.refs.toast.style.transition='visibility 0s ease-in 1s, opacity 1s';this.refs.toast.style.opacity=0;this.refs.toast.style.visibility='hidden';};f.exports=m;}),null);
__d('ReserveTurnMutation',['CurrentUser','Relay','RelayAPIConfig'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Relay').Mutation);i=h&&h.prototype;j.prototype.getMutation=function(){return function(){return {calls:[{kind:'Call',metadata:{},name:'reserve_turn',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Mutation',metadata:{inputType:'ReserveTurnData!'},name:'ReserveTurnMutation',responseType:'ReserveTurnResponsePayload'};}();};j.prototype.getVariables=function(){return {actor_id:c('RelayAPIConfig').actorID,match_id:this.props.match.id};};j.prototype.getConfigs=function(){return [{type:'FIELDS_CHANGE',fieldIDs:{match:this.props.match.id}}];};j.prototype.getFatQuery=function(){return function(){return {children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'match_current_players',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isPlural:true},type:'User'},{fieldName:'match_players',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'GamesTurnBasedMatchToPlayersConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'match',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'GamesTurnBasedMatch'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{pattern:true},name:'ReserveTurnMutationRelayQL',type:'ReserveTurnResponsePayload'};}();};j.prototype.getOptimisticResponse=function(){var k=this.$ReserveTurnMutation1()?[{id:c('CurrentUser').getID()}]:this.props.match.currentPlayers;return {match:{id:this.props.match.id,match_current_players:k}};};j.prototype.$ReserveTurnMutation1=function(){var k=this.props.match.currentPlayers.map(function(m){return m.id;}).includes(c('CurrentUser').getID());if(k)return true;var l=!this.props.match.players.edges.map(function(m){return m.id;}).includes(c('CurrentUser').getID());if(l&&this.props.match.currentPlayers.length===0)return true;return false;};function j(){h.apply(this,arguments);}j.fragments={match:function k(){return function(l){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{alias:'currentPlayers',children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'match_current_players',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isPlural:true},type:'User'},{alias:'players',calls:[{kind:'Call',metadata:{},name:'find',value:c('Relay').QL.__var(l)}],children:[{children:[{alias:'player',children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'User'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'GamesTurnBasedMatchToPlayersEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'match_players',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'GamesTurnBasedMatchToPlayersConnection'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'ReserveTurnMutation_MatchRelayQL',type:'GamesTurnBasedMatch'};}(c('CurrentUser').getID());}};f.exports=j;}),null);
__d('InstantGamesMatchScreenPresentation.react',['cx','fbt','intlList','CurrentUser','React','Relay','ReserveTurnMutation','TurnBasedMatchState'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=100;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(o){k.constructor.call(this,o);if(this.props.match){var p=this.props.match;if(this.$InstantGamesMatchScreenPresentation1(p)||this.$InstantGamesMatchScreenPresentation2(p))this.$InstantGamesMatchScreenPresentation3(p);c('Relay').Store.commitUpdate(new (c('ReserveTurnMutation'))({match:p}),{});}}m.prototype.render=function(){return (c('React').createElement('div',{className:"_23z4"},c('React').createElement('div',{className:"_23z6"},this.$InstantGamesMatchScreenPresentation4())));};m.prototype.$InstantGamesMatchScreenPresentation4=function(){if(this.props.match&&this.$InstantGamesMatchScreenPresentation1(this.props.match))return this.$InstantGamesMatchScreenPresentation5(this.props.match);return this.$InstantGamesMatchScreenPresentation6(this.props.match);};m.prototype.$InstantGamesMatchScreenPresentation5=function(o){return (c('React').createElement('div',null,this.$InstantGamesMatchScreenPresentation7(o),this.$InstantGamesMatchScreenPresentation8(o)));};m.prototype.$InstantGamesMatchScreenPresentation6=function(o){return (c('React').createElement('div',{className:"_23z7"},this.$InstantGamesMatchScreenPresentation9(o)));};m.prototype.$InstantGamesMatchScreenPresentation7=function(o){var p=o.currentPlayers,q=o.players,r=o.game;return (c('React').createElement('div',{className:"_23z7"},c('React').createElement('div',null,'Current Turn: '+p.map(function(s){return s.shortName;}).join(', ')),c('React').createElement('div',null,'Participants: '+q.edges.map(function(s){return s.player.shortName;}).join(', ')),c('React').createElement('div',null,'Game: '+r.name)));};m.prototype.$InstantGamesMatchScreenPresentation8=function(o){return (c('React').createElement('div',{className:"_23z8",onClick:function(){return this.$InstantGamesMatchScreenPresentation3(o);}.bind(this),onTouchStart:function(){return this.$InstantGamesMatchScreenPresentation3(o);}.bind(this),role:'button'},i._("Start Turn")));};m.prototype.$InstantGamesMatchScreenPresentation3=function(o){var p=o.data,q=o.players,r=o.state,s=q.edges.map(function(t){return t.player.playerToken;});this.props.onPlay({match:{data:JSON.parse(p),players:s,state:r}});};m.prototype.$InstantGamesMatchScreenPresentation1=function(o){var p=o.currentPlayers;return p&&p.map(function(q){return q.id;}).includes(c('CurrentUser').getID());};m.prototype.$InstantGamesMatchScreenPresentation2=function(o){return o.state===c('TurnBasedMatchState').ENDED&&this.props.isNewSession;};m.prototype.$InstantGamesMatchScreenPresentation9=function(o){if(!o)return i._("Waiting for another player to play...");var p=o.currentPlayers;if(p.length>0){var q=p.map(function(r){return r.shortName;});return i._("Waiting for {playerNames} to play!",[i.param('playerNames',c('intlList')(q,c('intlList').CONJUNCTIONS.OR))]);}return i._("Waiting for a new player...");};var n=function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{alias:'playerToken',calls:[{kind:'Call',metadata:{},name:'game',value:{kind:'CallVariable',callVariableName:'gameID'}}],fieldName:'instant_game_player_token',kind:'Field',metadata:{},type:'String'},{alias:'shortName',fieldName:'short_name',kind:'Field',metadata:{},type:'String'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'InstantGamesMatchScreenPresentation_reactRelayQL',type:'User'};}();f.exports=c('Relay').createContainer(m,{initialVariables:{gameID:null},fragments:{match:function o(){return function(p,q,r,s){return {children:[].concat.apply([],[{alias:'currentPlayers',children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(q)]),fieldName:'match_current_players',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isPlural:true},type:'User'},{alias:'data',fieldName:'match_data',kind:'Field',metadata:{},type:'String'},{alias:'players',calls:[{kind:'Call',metadata:{type:'Int'},name:'first',value:c('Relay').QL.__var(r)}],children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{alias:'player',children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(s)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'User'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'GamesTurnBasedMatchToPlayersEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'match_players',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'GamesTurnBasedMatchToPlayersConnection'},{children:[{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'game',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Application'},{alias:'state',fieldName:'match_state',kind:'Field',metadata:{},type:'TurnBasedMatchStateEnum'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(p)]),id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'InstantGamesMatchScreenPresentation_react_MatchRelayQL',type:'GamesTurnBasedMatch'};}(c('ReserveTurnMutation').getFragment('match'),n,l,n);}}});}),null);
__d('InstantGamesMatchScreenRelayRoute',['Relay'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Relay').Route);i=h&&h.prototype;function j(){h.apply(this,arguments);}j.queries={match:function k(l,m){return function(n){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'matchID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('Relay').QL.__frag(n)]),fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'InstantGamesMatchScreenRelayRoute',type:'Node'};}(l.getFragment('match',{gameID:m.gameID}));}};j.paramDefinitions={gameID:{required:true,type:'string'},matchID:{required:true,type:'string'}};j.routeName='GamesQuicksilverPlayerRelayRoute';f.exports=j;}),null);
__d('InstantGamesMatchScreen.react',['LoadingOverlay.react','InstantGamesMatchScreenPresentation.react','React','RelayRootContainer','InstantGamesMatchScreenRelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){return (c('React').createElement(c('RelayRootContainer'),{Component:c('InstantGamesMatchScreenPresentation.react'),renderLoading:function(k){return this.$InstantGamesMatchScreen1();}.bind(this),renderFetched:function(k){return this.$InstantGamesMatchScreen2(k);}.bind(this),route:new (c('InstantGamesMatchScreenRelayRoute'))({gameID:this.props.gameID,matchID:this.props.matchID})}));};j.prototype.$InstantGamesMatchScreen2=function(k){return (c('React').createElement(c('InstantGamesMatchScreenPresentation.react'),babelHelpers['extends']({},k,this.props)));};j.prototype.$InstantGamesMatchScreen1=function(){return (c('React').createElement(c('LoadingOverlay.react'),{isLoading:true}));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d("XGroupsUpdateRHCLeaderboardController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/groups\/games\/update_leaderboard\/",{app_id:{type:"Int"},group_id:{type:"Int"}});}),null);
__d('InstantGamesContextualPlayerPresentation.react',['invariant','Promise','idx','AddScoreMutationWebGraphQLMutation','GamesQuicksilverAnalyticsInfo','Arbiter','BrowserUnloadListener','InstantGamesChallengeToast.react','GamesQuicksilverContextKey','InstantGameContextType','CurrentLocale','InstantGameSDKEndAction','EndGamePayloadHandler','GamesQuicksilverEndScreen.react','FunnelLogger','GamesQuicksilverFunnelLogger','InstantGamesMatchScreen.react','InstantGamesMessageListener','GamesQuicksilverMessageSender','GamesQuicksilverPlayerState','GamesInstantPlayScoreStrategy','GamesQuicksilverStartScreen.react','React','Relay','XAsyncRequest','XGroupsUpdateRHCLeaderboardController'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k={INITIAL:'initial',LOADING:'loading',READY:'ready',PLAYING:'playing',GAMEOVER:'gameover'};i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$InstantGamesContextualPlayerPresentation6=null;this.$InstantGamesContextualPlayerPresentation7=false;this.state=this.$InstantGamesContextualPlayerPresentation9(m);this.$InstantGamesContextualPlayerPresentation5=this.$InstantGamesContextualPlayerPresentation10(m);this.props.bufferedMessageDelegate(this.$InstantGamesContextualPlayerPresentation11.bind(this));this.$InstantGamesContextualPlayerPresentation8=this.$InstantGamesContextualPlayerPresentation12();if(this.props.analyticsInfo.getSourceId()){var n=this.props.analyticsInfo.getSourceId().replace(/:/g,'_');c('FunnelLogger').addFunnelTag(this.props.analyticsInfo.getFunnelName(),'source_id:'+n);}this.$InstantGamesContextualPlayerPresentation13();}l.prototype.componentDidMount=function(){if(this.$InstantGamesContextualPlayerPresentation14())this.$InstantGamesContextualPlayerPresentation15();};l.prototype.componentWillReceiveProps=function(m){var n,o,p,q;if(((n=m)!=null?(o=n.contextToken)!=null?o.contextID:o:n)===((p=this.props)!=null?(q=p.contextToken)!=null?q.contextID:q:p))return;this.props.playerState.savePlayerStateAsync();this.$InstantGamesContextualPlayerPresentation16(false);this.state=this.$InstantGamesContextualPlayerPresentation9(m);if(this.props.source!==m.source){this.$InstantGamesContextualPlayerPresentation5.close();this.$InstantGamesContextualPlayerPresentation5=this.$InstantGamesContextualPlayerPresentation10(m);}this.$InstantGamesContextualPlayerPresentation8=this.$InstantGamesContextualPlayerPresentation12();if(!m.loading&&m.gameHasStarted)this.$InstantGamesContextualPlayerPresentation15();};l.prototype.componentWillUnmount=function(){this.props.playerState.cleanup();this.$InstantGamesContextualPlayerPresentation16(false);this.$InstantGamesContextualPlayerPresentation5.close();};l.prototype.render=function(){return (c('React').createElement('div',null,this.$InstantGamesContextualPlayerPresentation17(),this.$InstantGamesContextualPlayerPresentation18(),this.$InstantGamesContextualPlayerPresentation19()));};l.prototype.$InstantGamesContextualPlayerPresentation17=function(){var m,n;if(this.$InstantGamesContextualPlayerPresentation7)return null;if(!this.props.thread||((m=this.props.thread)!=null?(n=m.leaderboard)!=null?n.hasScores:n:m)||this.props.gameState!==k.PLAYING)return null;this.$InstantGamesContextualPlayerPresentation7=true;return (c('React').createElement(c('InstantGamesChallengeToast.react'),{thread:this.props.thread}));};l.prototype.$InstantGamesContextualPlayerPresentation18=function(){if(this.props.gameState!==k.READY)return null;switch(this.state.contextKey.getType()){case c('InstantGameContextType').MATCH:var m=this.state.contextKey.getSourceID();m||h(0);return this.$InstantGamesContextualPlayerPresentation20(m);default:return this.$InstantGamesContextualPlayerPresentation21();}};l.prototype.$InstantGamesContextualPlayerPresentation19=function(){if(this.props.gameState!==k.GAMEOVER)return null;switch(this.state.contextKey.getType()){case c('InstantGameContextType').MATCH:var m=this.state.contextKey.getSourceID();m||h(0);return this.$InstantGamesContextualPlayerPresentation20(m);default:return this.$InstantGamesContextualPlayerPresentation22();}};l.prototype.$InstantGamesContextualPlayerPresentation21=function(){return (c('React').createElement(c('GamesQuicksilverStartScreen.react'),{contextKey:this.state.contextKey,gameInfo:this.props.gameInfo,isNewChallenge:this.$InstantGamesContextualPlayerPresentation23(),onPlay:this.props.gameHasStarted?function(){return this.$InstantGamesContextualPlayerPresentation15();}.bind(this):function(){return this.$InstantGamesContextualPlayerPresentation24();}.bind(this)}));};l.prototype.$InstantGamesContextualPlayerPresentation22=function(){return (c('React').createElement(c('GamesQuicksilverEndScreen.react'),{contextKey:this.state.contextKey,enableGameSwitch:this.props.overrideGameURL==null,gameInfo:this.props.gameInfo,onReplay:function(){return this.$InstantGamesContextualPlayerPresentation15();}.bind(this),saveScore:function(){return this.$InstantGamesContextualPlayerPresentation16(false);}.bind(this),screenshot:this.$InstantGamesContextualPlayerPresentation2,switchContext:this.props.onSwitchContext,switchGame:function(m){return this.$InstantGamesContextualPlayerPresentation25(m);}.bind(this),toggleBlur:this.props.toggleBlur,gameplayScore:this.$InstantGamesContextualPlayerPresentation1}));};l.prototype.$InstantGamesContextualPlayerPresentation20=function(m){return (c('React').createElement(c('InstantGamesMatchScreen.react'),{gameID:this.props.gameInfo.id,isNewSession:!this.props.gameHasStarted,matchID:m,onPlay:this.props.gameHasStarted?function(n){return this.$InstantGamesContextualPlayerPresentation15(n);}.bind(this):function(n){return this.$InstantGamesContextualPlayerPresentation24(n);}.bind(this)}));};l.prototype.$InstantGamesContextualPlayerPresentation9=function(m){var n=null;if(m.contextToken&&m.contextToken.contextID){n=new (c('GamesQuicksilverContextKey'))(m.contextToken&&m.contextToken.contextID,m.contextSourceID,m.contextType);}else n=new (c('GamesQuicksilverContextKey'))(null,null,c('InstantGameContextType').SOLO);return {contextKey:n};};l.prototype.$InstantGamesContextualPlayerPresentation10=function(m){var n=this.$InstantGamesContextualPlayerPresentation26(),o=function q(r,s){var t=n[r];if(t)t(s);},p=new (c('InstantGamesMessageListener'))(m.source,o);p.init();return p;};l.prototype.$InstantGamesContextualPlayerPresentation12=function(){var m=new (c('BrowserUnloadListener'))();m.registerCallback(function(){return this.$InstantGamesContextualPlayerPresentation27();}.bind(this));return m;};l.prototype.$InstantGamesContextualPlayerPresentation27=function(){this.props.playerState.cleanup();this.$InstantGamesContextualPlayerPresentation16(true);c('GamesQuicksilverFunnelLogger').endFunnel(this.props.analyticsInfo.getFunnelName());};l.prototype.$InstantGamesContextualPlayerPresentation26=function(){return {initializeasync:function(m){return this.$InstantGamesContextualPlayerPresentation28(m);}.bind(this),onbeginload:function(m){return this.$InstantGamesContextualPlayerPresentation29(m);}.bind(this),onconsole:function(m){return this.$InstantGamesContextualPlayerPresentation30(m);}.bind(this),onprogressload:function(m){return this.$InstantGamesContextualPlayerPresentation31(m);}.bind(this),ongameready:function(m){return this.$InstantGamesContextualPlayerPresentation32(m);}.bind(this),onscore:function(m){return this.$InstantGamesContextualPlayerPresentation33(m);}.bind(this),onscreenshot:function(m){return this.$InstantGamesContextualPlayerPresentation34(m);}.bind(this),onpicture:function(m){return this.$InstantGamesContextualPlayerPresentation34(m);}.bind(this),onendgame:function(m){return this.$InstantGamesContextualPlayerPresentation35(m);}.bind(this),getplayerdataasync:function(m){this.props.playerState.getPlayerDataAsync(m);}.bind(this),setplayerdataasync:function(m){this.props.playerState.setPlayerDataAsync(m);}.bind(this)};};l.prototype.$InstantGamesContextualPlayerPresentation11=function(m){var n=this.$InstantGamesContextualPlayerPresentation26();for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r,t=s.type,u=s.content,v=n[t];if(v)v(u);}};l.prototype.$InstantGamesContextualPlayerPresentation13=function(){c('Arbiter').subscribeOnce(['layer_hidden'],function(m,n){return this.$InstantGamesContextualPlayerPresentation36(m,n);}.bind(this));};l.prototype.$InstantGamesContextualPlayerPresentation36=function(m,n){if(n.type!='Spotlight'){this.$InstantGamesContextualPlayerPresentation13();return;}this.$InstantGamesContextualPlayerPresentation27();if(this.$InstantGamesContextualPlayerPresentation8){this.$InstantGamesContextualPlayerPresentation8.remove();this.$InstantGamesContextualPlayerPresentation8=null;}};l.prototype.$InstantGamesContextualPlayerPresentation28=function(m){var n,o,p;if(!m||!m.promiseID)return;var q=((n=this.props.playerInfo)!=null?n.shortName:n)||null,r=((o=this.props.playerInfo)!=null?(p=o.photo)!=null?p.uri:p:o)||null;this.props.messageSender.resolveGamePromise(m.promiseID,{contextID:this.state.contextKey.getID(),contextType:this.state.contextKey.getTypeAPIValue(),playerID:this.props.playerID,playerName:q,playerPhoto:r,locale:c('CurrentLocale').get()});};l.prototype.$InstantGamesContextualPlayerPresentation34=function(m){this.$InstantGamesContextualPlayerPresentation2=m;};l.prototype.$InstantGamesContextualPlayerPresentation29=function(m){var n=window.performance;this.$InstantGamesContextualPlayerPresentation3=n.now();this.$InstantGamesContextualPlayerPresentation4=m;this.props.changeContainerState({gameState:k.LOADING,progress:0});c('FunnelLogger').appendAction(this.props.analyticsInfo.getFunnelName(),'loading_started');};l.prototype.$InstantGamesContextualPlayerPresentation30=function(m){};l.prototype.$InstantGamesContextualPlayerPresentation31=function(m){this.props.changeContainerState({progress:m/this.$InstantGamesContextualPlayerPresentation4*100});};l.prototype.$InstantGamesContextualPlayerPresentation32=function(m){var n=window.performance,o=n.now()-this.$InstantGamesContextualPlayerPresentation3;c('FunnelLogger').appendAction(this.props.analyticsInfo.getFunnelName(),'game_ready');this.props.changeContainerState({progress:100,gameState:k.READY});};l.prototype.$InstantGamesContextualPlayerPresentation33=function(m){if(this.state.contextKey.getType()===c('InstantGameContextType').MATCH)return;var n=this.props.gameInfo.scoreStrategy;this.$InstantGamesContextualPlayerPresentation1=m;if(this.$InstantGamesContextualPlayerPresentation6==null){this.$InstantGamesContextualPlayerPresentation6=this.$InstantGamesContextualPlayerPresentation1;}else this.$InstantGamesContextualPlayerPresentation6=n===c('GamesInstantPlayScoreStrategy').LOWEST_BEST?Math.min(this.$InstantGamesContextualPlayerPresentation6,this.$InstantGamesContextualPlayerPresentation1):Math.max(this.$InstantGamesContextualPlayerPresentation6,this.$InstantGamesContextualPlayerPresentation1);};l.prototype.$InstantGamesContextualPlayerPresentation24=function(m){m=m||{};this.props.toggleBlur(false);this.props.messageSender.sendMessage('gamestart',babelHelpers['extends']({contextID:this.state.contextKey.getID(),contextType:this.state.contextKey.getTypeAPIValue()},m));this.props.changeContainerState({gameState:k.PLAYING});c('GamesQuicksilverFunnelLogger').logGamePlayStart(this.props.analyticsInfo.getFunnelName(),'start_screen',this.props.gameInfo.id,this.props.contextType,this.props.contextSourceID);};l.prototype.$InstantGamesContextualPlayerPresentation35=function(m){var n=new (c('EndGamePayloadHandler'))({contextKey:this.state.contextKey,gameID:this.props.gameInfo.id});n.handle(m).then(this.$InstantGamesContextualPlayerPresentation37.bind(this))['catch'](this.$InstantGamesContextualPlayerPresentation38.bind(this));};l.prototype.$InstantGamesContextualPlayerPresentation37=function(m){if(!m.action){this.$InstantGamesContextualPlayerPresentation39();return;}switch(m.action){case c('InstantGameSDKEndAction').START_MATCH:this.$InstantGamesContextualPlayerPresentation39();if(m.match)this.props.onSwitchContext({id:m.match,type:c('InstantGameContextType').MATCH});break;case c('InstantGameSDKEndAction').TAKE_TURN:this.$InstantGamesContextualPlayerPresentation39();break;case c('InstantGameSDKEndAction').END_MATCH:case c('InstantGameSDKEndAction').SCORE:case c('InstantGameSDKEndAction').NONE:default:this.$InstantGamesContextualPlayerPresentation39();break;}};l.prototype.$InstantGamesContextualPlayerPresentation39=function(){this.props.changeContainerState({gameState:k.GAMEOVER});this.props.playerState.savePlayerStateAsync();c('GamesQuicksilverFunnelLogger').logGamePlayEnd(this.props.analyticsInfo.getFunnelName(),this.props.gameInfo.id,this.props.contextType,this.props.contextSourceID);};l.prototype.$InstantGamesContextualPlayerPresentation38=function(m){this.props.messageSender.sendMessage('restart',{error:{message:m.message||'Failure while processing end game payload'}});};l.prototype.$InstantGamesContextualPlayerPresentation15=function(m){m=m||{};this.$InstantGamesContextualPlayerPresentation1=null;this.$InstantGamesContextualPlayerPresentation2=null;this.props.toggleBlur(false);this.props.messageSender.sendMessage('restart',babelHelpers['extends']({contextID:this.state.contextKey.getID(),contextType:this.state.contextKey.getTypeAPIValue()},m));this.props.changeContainerState({gameState:k.PLAYING});this.props.focusIframe();c('GamesQuicksilverFunnelLogger').logGamePlayStart(this.props.analyticsInfo.getFunnelName(),'replay',this.props.gameInfo.id,this.props.contextType,this.props.contextSourceID);};l.prototype.$InstantGamesContextualPlayerPresentation16=function(){var m=arguments.length<=0||arguments[0]===undefined?false:arguments[0],n=this;return new (c('Promise'))(function(o,p){if(!n.$InstantGamesContextualPlayerPresentation1){p(new Error('no score available to save.'));return;}var q=n.state.contextKey.getSourceID(),r=n.$InstantGamesContextualPlayerPresentation6==null?n.$InstantGamesContextualPlayerPresentation1:n.$InstantGamesContextualPlayerPresentation6,s=m?r:n.$InstantGamesContextualPlayerPresentation1,t=c('AddScoreMutationWebGraphQLMutation').getURI({game_id:n.props.gameInfo.id,score:s,thread_id:n.state.contextKey.isThread()?q:null,story_id:n.state.contextKey.isStory()?q:null,group_id:n.state.contextKey.isGroup()?q:null,send_admin:m,session_id:n.props.sessionID});new (c('XAsyncRequest'))(t).setHandler(function(u){o(u&&u.payload&&u.payload.data&&u.payload.data.instant_game_add_score);n.$InstantGamesContextualPlayerPresentation40();}).setErrorHandler(function(){p(new Error('internal error while saving score.'));}).send();});};l.prototype.$InstantGamesContextualPlayerPresentation40=function(){if(!this.state.contextKey.isGroup())return;var m=this.props.gameInfo.id;if(document.getElementById('rhc_game_'+m)===null)return;var n=c('XGroupsUpdateRHCLeaderboardController').getURIBuilder().setInt('app_id',m).setInt('group_id',this.state.contextKey.getSourceID()).getURI();new (c('XAsyncRequest'))(n).send();};l.prototype.$InstantGamesContextualPlayerPresentation25=function(m){this.$InstantGamesContextualPlayerPresentation16(true);this.$InstantGamesContextualPlayerPresentation1=null;this.$InstantGamesContextualPlayerPresentation6=null;this.$InstantGamesContextualPlayerPresentation2=null;if(this.$InstantGamesContextualPlayerPresentation8){this.$InstantGamesContextualPlayerPresentation8.remove();this.$InstantGamesContextualPlayerPresentation8=null;}this.props.onSwitchGame(m,this.state.contextKey);};l.prototype.$InstantGamesContextualPlayerPresentation23=function(){var m,n;if(!this.props.thread)return false;return !((m=this.props.thread)!=null?(n=m.leaderboard)!=null?n.hasScores:n:m);};l.prototype.$InstantGamesContextualPlayerPresentation14=function(){return !this.props.loading&&this.props.gameHasStarted&&!this.$InstantGamesContextualPlayerPresentation23()&&!this.state.contextKey.isMatch();};f.exports=c('Relay').createContainer(l,{initialVariables:{gameID:null},fragments:{contextToken:function m(){return function(){return {children:[{alias:'contextID',fieldName:'context_token_id',kind:'Field',metadata:{},type:'ID'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'InstantGamesContextualPlayerPresentation_react_ContextTokenRelayQL',type:'InstantApplicationContextToken'};}();},thread:function m(){return function(){return {children:[{alias:'leaderboard',calls:[{kind:'Call',metadata:{},name:'game',value:{kind:'CallVariable',callVariableName:'gameID'}}],children:[{alias:'hasScores',fieldName:'has_scores',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'instant_game_leaderboard',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'InstantGameLeaderboard'},{alias:'threadKey',children:[{alias:'otherUserID',fieldName:'other_user_id',kind:'Field',metadata:{},type:'ID'},{alias:'threadFBID',fieldName:'thread_fbid',kind:'Field',metadata:{},type:'String'}],fieldName:'thread_key',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageThreadKey'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'InstantGamesContextualPlayerPresentation_react_ThreadRelayQL',type:'MessageThread'};}();}}});}),null);
__d('GamesQuicksilverPlayerPresentation.react',['shallowCompare','InstantGamesContextualPlayer.react','GamesQuicksilverAnalyticsInfo','React','Relay'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.state=this.$GamesQuicksilverPlayerPresentation1(k);}j.prototype.shouldComponentUpdate=function(k,l){return c('shallowCompare')(this,k,l);};j.prototype.componentWillReceiveProps=function(k){if(k.gameInfo.info.id===this.state.gameInfo.id)return;this.setState(this.$GamesQuicksilverPlayerPresentation1(k));};j.prototype.render=function(){return (c('React').createElement(c('InstantGamesContextualPlayer.react'),{analyticsInfo:this.props.analyticsInfo,contextSourceID:this.props.contextSourceID,contextType:this.props.contextType,enabled:this.props.enabled,gameInfo:this.state.gameInfo,onSwitchGame:this.props.onSwitchGame,overrideGameURL:this.props.overrideGameURL,playerID:this.state.playerID,playerInfo:this.props.playerInfo,sessionID:this.props.sessionID}));};j.prototype.$GamesQuicksilverPlayerPresentation1=function(k){var l=k.gameInfo,m=l.info,n=l.playerID;return {gameInfo:m,playerID:n};};f.exports=c('Relay').createContainer(j,{fragments:{gameInfo:function k(){return function(){return {children:[{alias:'info',children:[{alias:'bannerURI',fieldName:'banner_image_uri',kind:'Field',metadata:{},type:'Url'},{alias:'description',fieldName:'game_detailed_description',kind:'Field',metadata:{},type:'String'},{alias:'gameURI',fieldName:'game_uri',kind:'Field',metadata:{},type:'Url'},{alias:'iconURI',fieldName:'icon_uri',kind:'Field',metadata:{},type:'Url'},{alias:'id',fieldName:'instant_game_id',kind:'Field',metadata:{},type:'ID'},{alias:'name',fieldName:'game_name',kind:'Field',metadata:{},type:'String'},{alias:'scoreStrategy',fieldName:'game_score_strategy',kind:'Field',metadata:{},type:'GamesInstantPlayScoreStrategy'},{alias:'splashURI',fieldName:'splash_uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'instant_game_info',kind:'Field',metadata:{canHaveSubselections:true},type:'GamesInstantPlayStyleInfo'},{alias:'playerID',fieldName:'instant_game_player_token',kind:'Field',metadata:{},type:'String'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'GamesQuicksilverPlayerPresentation_react_GameInfoRelayQL',type:'Application'};}();},playerInfo:function k(){return function(){return {children:[{alias:'shortName',fieldName:'short_name',kind:'Field',metadata:{},type:'String'},{alias:'photo',calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:{kind:'CallValue',callValue:256}},{kind:'Call',metadata:{type:'Int'},name:'height',value:{kind:'CallValue',callValue:256}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'GamesQuicksilverPlayerPresentation_react_PlayerInfoRelayQL',type:'User'};}();}}});}),null);
__d('GamesQuicksilverPlayerRelayRoute',['Relay'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Relay').Route);i=h&&h.prototype;function j(){h.apply(this,arguments);}j.queries={gameInfo:function k(l,m){return function(n){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'gameID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('Relay').QL.__frag(n)]),fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'GamesQuicksilverPlayerRelayRoute',type:'Node'};}(l.getFragment('gameInfo',{}));},playerInfo:function k(l,m){return function(n){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('Relay').QL.__frag(n)]),fieldName:'me',kind:'Query',metadata:{isAbstract:true},name:'GamesQuicksilverPlayerRelayRoute',type:'Actor'};}(l.getFragment('playerInfo',{}));}};j.paramDefinitions={gameID:{required:true,type:'string'}};j.routeName='GamesQuicksilverPlayerRelayRoute';f.exports=j;}),null);
__d('GamesQuicksilverPlayer.react',['cx','uuid','Arbiter','CSS','GamesQuicksilverAnalyticsInfo','GamesQuicksilverContextKey','GamesQuicksilverFunnelLogger','LoadingOverlay.react','GamesQuicksilverPlayerPresentation.react','RelayRootContainer','GamesQuicksilverPlayerRelayRoute','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.$GamesQuicksilverPlayer3=l.contextType;this.$GamesQuicksilverPlayer2=l.contextSourceID||null;this.state={gameID:l.appId,sessionID:c('uuid')(),hidden:false};if(l.blockMobileScroll)c('CSS').addClass(document.body,"_4png");}k.prototype.componentDidMount=function(){this.$GamesQuicksilverPlayer4();};k.prototype.componentWillUnmount=function(){c('Arbiter').unsubscribe(this.$GamesQuicksilverPlayer1);};k.prototype.render=function(){if(this.state.hidden)return null;return (c('React').createElement(c('RelayRootContainer'),{Component:c('GamesQuicksilverPlayerPresentation.react'),renderLoading:function(l){return this.$GamesQuicksilverPlayer5(l,true);}.bind(this),renderFetched:function(l){return this.$GamesQuicksilverPlayer5(l,false);}.bind(this),route:new (c('GamesQuicksilverPlayerRelayRoute'))({gameID:this.state.gameID})}));};k.prototype.$GamesQuicksilverPlayer5=function(l,m){if(m)return (c('React').createElement(c('LoadingOverlay.react'),{isLoading:true}));return (c('React').createElement(c('GamesQuicksilverPlayerPresentation.react'),babelHelpers['extends']({analyticsInfo:this.props.analyticsInfo,contextSourceID:this.$GamesQuicksilverPlayer2,contextType:this.$GamesQuicksilverPlayer3,enabled:this.props.enabled,onSwitchGame:function(n,o){return this.$GamesQuicksilverPlayer6(n,o);}.bind(this),overrideGameURL:this.props.overrideGameURL,sessionID:this.state.sessionID},l)));};k.prototype.$GamesQuicksilverPlayer6=function(l){var m=l.gameID,n=l.contextKey,o=l.sessionID;if(this.props.overrideGameURL)return;this.$GamesQuicksilverPlayer2=n.getSourceID();this.$GamesQuicksilverPlayer3=n.getType();c('GamesQuicksilverFunnelLogger').logGameSwitch(this.props.analyticsInfo.getFunnelName(),m);c('GamesQuicksilverFunnelLogger').endFunnel(this.props.analyticsInfo.getFunnelName());this.setState({gameID:m,sessionID:o});};k.prototype.$GamesQuicksilverPlayer4=function(){this.$GamesQuicksilverPlayer1=c('Arbiter').subscribeOnce(['layer_hidden'],function(l,m){return this.$GamesQuicksilverPlayer7(l,m);}.bind(this));};k.prototype.$GamesQuicksilverPlayer7=function(l,m){if(m.type!='Spotlight'){this.$GamesQuicksilverPlayer4();return;}this.setState({hidden:true});};f.exports=k;}),null);
__d('MessengerGameListRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='MessengerGameListRoute';j.queries={gameList:function k(l){return function(m){return {calls:[{kind:'Call',metadata:{type:'InstantGamesListInputParams!'},name:'input',value:{kind:'CallVariable',callVariableName:'input'}}],children:[].concat.apply([],[c('RelayQL').__frag(m)]),fieldName:'instant_games_list',kind:'Query',metadata:{identifyingArgName:'input',identifyingArgType:'InstantGamesListInputParams!'},name:'MessengerGameListRoute',type:'InstantGamesListResult'};}(l.getFragment('gameList'));}};j.paramDefinitions={input:{type:'InstantGamesListInputParams!',required:true}};f.exports=j;}),null);
__d('MessengerMobileWindow.react',['cx','MessengerPhotoViewCloseLink.react','React','SpotlightViewer'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.background,o=m.fontSize,p=m.onHide,q=m.open,r=m.children,s=m.onClose,t=babelHelpers.objectWithoutProperties(m,['background','fontSize','onHide','open','children','onClose']);return (c('React').createElement(c('SpotlightViewer'),{onHide:p,open:q,rootClassName:"_7yx"+(n==='light'?' '+"_1lwq":'')},c('React').createElement('div',babelHelpers['extends']({className:"_7yy"},t),c('React').createElement('div',{className:"_7yz"}),c('React').createElement('div',{className:"_7y-"+(o==='auto'?' '+"_5q__":'')},c('React').createElement('div',{className:"_5uag"},r)),c('React').createElement(c('MessengerPhotoViewCloseLink.react'),{onClick:s}))));};function l(){i.apply(this,arguments);}l.defaultProps={background:'light',fontSize:'auto'};l.propTypes={background:k.string.isRequired,fontSize:k.string.isRequired,onClose:k.func.isRequired,onHide:k.func.isRequired,open:k.bool.isRequired};f.exports=l;}),null);
__d('MessengerGamesQuicksilverPlayerContainer.react',['InstantGameContextType','GamesQuicksilverAnalyticsInfo','GamesQuicksilverPlayer.react','MessengerMobileWindow.react','QuicksilverConstants','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){var l=this.props,m=l.contextSourceID,n=l.contextType,o=l.gameID,p=l.onHide,q=l.source,r=l.sourceID;return (c('React').createElement(c('MessengerMobileWindow.react'),{background:'dark',fontSize:'fixed',onHide:p,onClose:p,open:true},c('React').createElement(c('GamesQuicksilverPlayer.react'),{analyticsInfo:new (c('GamesQuicksilverAnalyticsInfo'))(c('QuicksilverConstants').GAMES_QUICKSILVER_FUNNEL,q,r||''),appId:o,autoplay:true,blockMobileScroll:false,contextSourceID:m,contextType:n,enabled:true})));};function k(){h.apply(this,arguments);}k.propTypes={contextSourceID:j.string,contextType:j.string.isRequired,gameID:j.string.isRequired,onHide:j.func.isRequired,source:j.string.isRequired,sourceID:j.string};f.exports=k;}),null);
__d('MessengerGamesList.react',['cx','fbt','InstantGameContextType','QuicksilverConstants','MessengerButton.react','MessengerGamesQuicksilverPlayerContainer.react','MessengerProfileImageWrapper.react','MessengerScrollableArea.react','Focus','Image.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=40,n='NEW';j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;function o(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.state={selectedGame:null},this.$MessengerGamesList6=function(w){this.setState({selectedGame:w||null});}.bind(this),s;}o.prototype.componentDidMount=function(){c('Focus').set(this.$MessengerGamesList1);};o.prototype.render=function(){return c('React').createElement(c('MessengerScrollableArea.react'),{width:285,height:this.$MessengerGamesList2()+'px',className:"_3rh0"},this.props.gameList.items.nodes.map(function(r,s){return c('React').createElement('div',{key:'game-section-'+s},this.$MessengerGamesList3(r,s));}.bind(this)));};o.prototype.$MessengerGamesList3=function(r,s){return c('React').createElement('div',null,this.$MessengerGamesList4(r,s),c('React').createElement('ul',{className:"_4lh2"},r.games.edges.map(function(t,u){return this.$MessengerGamesList5(t,s+u===0);}.bind(this))));};o.prototype.$MessengerGamesList4=function(r){var s=r.is_badged?c('React').createElement('div',{className:"_4lh6"}):null;return c('React').createElement('div',null,c('React').createElement('h4',{className:"_4lh7"},r.title.text,s));};o.prototype.$MessengerGamesList5=function(r,s){var t=r.node,u=t.application.instant_game_info.icon_uri,v=t.tags&&t.tags.indexOf(n)>=0?c('React').createElement('span',{className:"_4lh8 _43by"},i._("NEW")):null;return c('React').createElement('li',{key:'game-'+t.application.id,className:"_4lh9",onClick:this.$MessengerGamesList6.bind(this,t.application.id),role:'button',ref:s?function(w){return this.$MessengerGamesList1=w;}.bind(this):null},c('React').createElement(c('MessengerProfileImageWrapper.react'),{size:m,showBadge:false},c('React').createElement(c('Image.react'),{height:m,src:u,width:m})),c('React').createElement('div',{className:"_4lha"},c('React').createElement('div',null,c('React').createElement('span',{className:"_4lhb"},t.application.name),v),t.text_lines.map(function(w,x){return c('React').createElement('div',{key:x,className:"_4lhc"},w.text);})),c('React').createElement(c('MessengerButton.react'),{customColor:true,label:i._("PLAY"),type:'primary',use:'default',className:"_4lhd",tabIndex:'0'}),this.$MessengerGamesList7(t.application.id));};o.prototype.$MessengerGamesList7=function(r){var s=this.props.threadFBID?c('InstantGameContextType').THREAD:c('InstantGameContextType').SOLO,t=this.props.threadFBID;return this.state.selectedGame===r?c('React').createElement(c('MessengerGamesQuicksilverPlayerContainer.react'),{contextSourceID:t,contextType:s,gameID:r,onHide:this.$MessengerGamesList6,source:c('QuicksilverConstants').FUNNEL_SOURCE_MESSENGER_COMPOSER,sourceID:this.props.threadFBID}):null;};o.prototype.$MessengerGamesList2=function(){var r=this.props.gameList.items.count,s=this.props.gameList.items.nodes.reduce(function(t,u){return t+u.games.count;},0);return r*30+s*62;};o.propTypes={gameList:l.object.isRequired,threadFBID:l.string.isRequired};var p=function(){return {children:[{fieldName:'tags',kind:'Field',metadata:{isPlural:true},type:'InstantGameListItemTag'},{children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'text_lines',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'TextWithEntities'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'icon_uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'instant_game_info',kind:'Field',metadata:{canHaveSubselections:true},type:'GamesInstantPlayStyleInfo'}],fieldName:'application',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Application'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGamesList_reactRelayQL',type:'InstantGameListGameItem'};}(),q=function(r){return {children:[{children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'title',kind:'Field',metadata:{canHaveSubselections:true},type:'TextWithEntities'},{fieldName:'is_badged',kind:'Field',metadata:{},type:'Boolean'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:100}}],children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{children:[].concat.apply([],[c('RelayQL').__frag(r)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,isRequisite:true},type:'InstantGameListGameItem'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'InstantGameListGamesSectionGameEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'games',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'InstantGameListGamesSectionGameConnection'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGamesList_reactRelayQL',type:'InstantGameListGamesSection'};}(p);f.exports=c('Relay').createContainer(o,{fragments:{gameList:function r(){return function(s,t){return {children:[{children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(s),c('RelayQL').__frag(t)]),fieldName:'nodes',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true,isPlural:true},type:'InstantGameListItem'}],fieldName:'items',kind:'Field',metadata:{canHaveSubselections:true},type:'InstantGamesListResultGameListItemConnection'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGamesList_react_GameListRelayQL',type:'InstantGamesListResult'};}(p,q);}}});}),null);
__d('MessengerGamesFlyout.react',['MessengerGameListRoute','MessengerGamesList.react','React','Relay'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('Relay').RootContainer,k=c('React').PropTypes;h=babelHelpers.inherits(l,c('React').PureComponent);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.renderLoading=function(){return this.props.placeholder;}.bind(this),this.renderPlayer=function(r){return (c('React').createElement(c('MessengerGamesList.react'),babelHelpers['extends']({},r,{threadFBID:this.props.threadFBID})));}.bind(this),n;}l.prototype.render=function(){return c('React').createElement(j,{Component:c('MessengerGamesList.react'),route:new (c('MessengerGameListRoute'))({input:{key:{thread_id:this.props.threadFBID},query:{surface:'COMPOSER_LIST'}}}),renderLoading:this.renderLoading,renderFetched:this.renderPlayer,renderFailure:this.renderFailure});};l.prototype.renderFailure=function(){return fbt._("Couldn't load game list");};l.propTypes={threadFBID:k.string.isRequired};f.exports=l;}),null);