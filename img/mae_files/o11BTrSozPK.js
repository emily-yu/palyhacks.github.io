if (self.CavalryLogger) { CavalryLogger.start_js(["ufZ+V"]); }

__d('Tooltip.react',['React','TooltipMixin'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'Tooltip',propTypes:{display:h.oneOf(['inline','block'])},getDefaultProps:function j(){return {display:'inline'};},mixins:[c('TooltipMixin')],render:function j(){if(this.props.display==='block')return (c('React').createElement('div',this.props,this.props.children));return c('React').createElement('span',this.props,this.props.children);}});f.exports=i;}),null);
__d('MessengerAddToConversationDialog.react',['cx','fbt','immutable','ImmutableObject','MercuryIDs','MercuryLogMessageType','MercuryMessageActions','MercuryMessageObject','MercuryTriodeSourceUtil','MessengerActions','MessengerAdminGroupUtils','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerGraphQLTokenizer.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=460;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={selectedEntries:c('immutable').List()},this.$MessengerAddToConversationDialog3=function(t){this.setState({selectedEntries:this.state.selectedEntries.push(t)});}.bind(this),this.$MessengerAddToConversationDialog5=function(t){var u=t.getUniqueID(),v=this.state.selectedEntries,w=v.findIndex(function(x){return x.getUniqueID()===u;});if(w!==-1)this.setState({selectedEntries:v['delete'](w)});}.bind(this),this.$MessengerAddToConversationDialog4=function(){this.setState({selectedEntries:c('immutable').List()});}.bind(this),this.$MessengerAddToConversationDialog2=function(event){if(this.state.selectedEntries.size)if(c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread)){this.state.selectedEntries.map(function(t){var u=c('MercuryIDs').getThreadIDFromUserID(t.getUniqueID());this.$MessengerAddToConversationDialog6().send(this.$MessengerAddToConversationDialog7().constructUserGeneratedMessageObject(this.props.thread.joinable_mode.link,c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),u));}.bind(this));}else this.$MessengerAddToConversationDialog6().send(this.$MessengerAddToConversationDialog7().constructLogMessageObject(c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),this.props.thread.thread_id,c('MercuryLogMessageType').SUBSCRIBE,{added_participants:this.state.selectedEntries.map(function(t){return (c('MercuryIDs').getParticipantIDFromUserID(t.getUniqueID()));}).toArray()}));event.preventDefault();c('MessengerActions').hideDialog();}.bind(this),p;}n.prototype.render=function(){var o=c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread),p={context:null,enableMessageSearch:false,excludePages:true,forceHideClearButton:true,hasHoverState:false,scrollableViewClassName:"_4jgu",shouldQueryInternalBot:false,shouldQueryVCEndpoint:false,width:m};return c('React').createElement(c('MessengerDialog.react'),{shown:true,onToggle:this.$MessengerAddToConversationDialog1,ref:'dialog',type:'default',width:m},c('React').createElement('div',{className:"_4jgp"},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogTitle.react'),null,o?i._("Invite More People"):i._("Add More People")),c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Done"),onClick:this.$MessengerAddToConversationDialog2,type:'primary'})),c('React').createElement(c('MessengerGraphQLTokenizer.react'),babelHelpers['extends']({autoFocus:true,className:"_4jgt",entries:this.state.selectedEntries,excludeGroups:true,hideViewWithEntries:false,onAddEntryAttempt:this.$MessengerAddToConversationDialog3,onClear:this.$MessengerAddToConversationDialog4,onRemoveEntryAttempt:this.$MessengerAddToConversationDialog5,originalEntryIDs:c('immutable').Set(this.props.thread.participants.map(function(q){return c('MercuryIDs').getUserIDFromParticipantID(q);})),placeholder:o?i._("Invite to group:"):i._("Add to group:"),showDefaultEntries:true,useLayer:false,viewer:this.props.viewer},p))));};n.prototype.$MessengerAddToConversationDialog1=function(o){if(!o)c('MessengerActions').hideDialog();};n.prototype.$MessengerAddToConversationDialog6=function(){return c('MercuryMessageActions').getForFBID(this.props.viewer);};n.prototype.$MessengerAddToConversationDialog7=function(){return c('MercuryMessageObject').getForFBID(this.props.viewer);};n.propTypes={thread:l.instanceOf(c('ImmutableObject')).isRequired,viewer:l.string.isRequired};f.exports=n;}),null);